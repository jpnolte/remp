<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapitel 8 Visualisierungen | R für empirische Wissenschaften</title>
  <meta name="description" content="Dieses Buch bietet einfache Erklärungen mit praktischen Beispielen und Übungen, welche das Erlernen von R ohne Programmiervorkenntnisse im Selbststudium ermöglichen. Die Zielgruppe sind WissenschaftlerInnen und StudentInnen der Fachrichtungen Medizin, Psychologie, Wirtschaftswissenschaften, Sozialwissenschaften, Agrarwissenschaften, Neurowissenschaften, Biologie, Journalismus, Tourismus, Data Science, Biostatistik und allen weiteren Disziplinen, die Daten auswerten möchten." />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapitel 8 Visualisierungen | R für empirische Wissenschaften" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/logo.png" />
  <meta property="og:description" content="Dieses Buch bietet einfache Erklärungen mit praktischen Beispielen und Übungen, welche das Erlernen von R ohne Programmiervorkenntnisse im Selbststudium ermöglichen. Die Zielgruppe sind WissenschaftlerInnen und StudentInnen der Fachrichtungen Medizin, Psychologie, Wirtschaftswissenschaften, Sozialwissenschaften, Agrarwissenschaften, Neurowissenschaften, Biologie, Journalismus, Tourismus, Data Science, Biostatistik und allen weiteren Disziplinen, die Daten auswerten möchten." />
  <meta name="github-repo" content="j3ypi/remp" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapitel 8 Visualisierungen | R für empirische Wissenschaften" />
  
  <meta name="twitter:description" content="Dieses Buch bietet einfache Erklärungen mit praktischen Beispielen und Übungen, welche das Erlernen von R ohne Programmiervorkenntnisse im Selbststudium ermöglichen. Die Zielgruppe sind WissenschaftlerInnen und StudentInnen der Fachrichtungen Medizin, Psychologie, Wirtschaftswissenschaften, Sozialwissenschaften, Agrarwissenschaften, Neurowissenschaften, Biologie, Journalismus, Tourismus, Data Science, Biostatistik und allen weiteren Disziplinen, die Daten auswerten möchten." />
  <meta name="twitter:image" content="/images/logo.png" />

<meta name="author" content="Jan Philipp Nolte" />


<meta name="date" content="2023-01-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="images/touch-icon.png" />
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="descr.html"/>
<link rel="next" href="inductive.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { } /* Alert */
code span.an { } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { } /* ControlFlow */
code span.ch { color: #0e7a0e; } /* Char */
code span.cn { } /* Constant */
code span.co { } /* Comment */
code span.cv { color: #0e7a0e; } /* CommentVar */
code span.do { } /* Documentation */
code span.er { font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fu { color: #e65100; } /* Function */
code span.im { } /* Import */
code span.in { } /* Information */
code span.kw { color: #e65100; } /* Keyword */
code span.op { } /* Operator */
code span.ot { } /* Other */
code span.pp { } /* Preprocessor */
code span.sc { } /* SpecialChar */
code span.ss { } /* SpecialString */
code span.st { color: #0e7a0e; } /* String */
code span.va { } /* Variable */
code span.vs { color: #0e7a0e; } /* VerbatimString */
code span.wa { font-weight: bold; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="toc.css" type="text/css" />
<link rel="stylesheet" href="font-awesome.min.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="https://r-empirische-wissenschaften.de"> R für empirische Wissenschaften</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Vorwort</a></li>
<li class="part"><span><b>I Die ersten Schritte</b></span></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Einleitung</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#für-wen-ist-dieses-buch"><i class="fa fa-check"></i><b>1.1</b> Für wen ist dieses Buch?</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#aufbau-und-bearbeitungsstrategie"><i class="fa fa-check"></i><b>1.2</b> Aufbau und Bearbeitungsstrategie</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#boxen-übungen-und-datensätze"><i class="fa fa-check"></i><b>1.3</b> Boxen, Übungen und Datensätze</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#books"><i class="fa fa-check"></i><b>1.4</b> Ergänzende Literatur</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="start.html"><a href="start.html"><i class="fa fa-check"></i><b>2</b> Startvoraussetzungen</a>
<ul>
<li class="chapter" data-level="2.1" data-path="start.html"><a href="start.html#installation-von-r-und-rstudio"><i class="fa fa-check"></i><b>2.1</b> Installation von R und RStudio</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="start.html"><a href="start.html#installr"><i class="fa fa-check"></i><b>2.1.1</b> Programmiersprache R</a></li>
<li class="chapter" data-level="2.1.2" data-path="start.html"><a href="start.html#rstudio"><i class="fa fa-check"></i><b>2.1.2</b> Programmierumgebung RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="start.html"><a href="start.html#aufbau"><i class="fa fa-check"></i><b>2.2</b> Aufbau von RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="start.html"><a href="start.html#anpassung"><i class="fa fa-check"></i><b>2.3</b> RStudio anpassen</a></li>
<li class="chapter" data-level="2.4" data-path="start.html"><a href="start.html#funktionen-und-ihre-argumente"><i class="fa fa-check"></i><b>2.4</b> Funktionen und ihre Argumente</a></li>
<li class="chapter" data-level="2.5" data-path="start.html"><a href="start.html#packages"><i class="fa fa-check"></i><b>2.5</b> Packages (Erweiterungen)</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="start.html"><a href="start.html#installieren-und-laden"><i class="fa fa-check"></i><b>2.5.1</b> Installieren und laden</a></li>
<li class="chapter" data-level="2.5.2" data-path="start.html"><a href="start.html#notwendige-packages"><i class="fa fa-check"></i><b>2.5.2</b> Notwendige Packages</a></li>
<li class="chapter" data-level="2.5.3" data-path="start.html"><a href="start.html#namespace"><i class="fa fa-check"></i><b>2.5.3</b> Namespace</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="start.html"><a href="start.html#help"><i class="fa fa-check"></i><b>2.6</b> Fehler- und Warnmeldungen</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="start.html"><a href="start.html#der-unterschied"><i class="fa fa-check"></i><b>2.6.1</b> Der Unterschied</a></li>
<li class="chapter" data-level="2.6.2" data-path="start.html"><a href="start.html#hilfe"><i class="fa fa-check"></i><b>2.6.2</b> Wo bekomme ich Hilfe?</a></li>
<li class="chapter" data-level="2.6.3" data-path="start.html"><a href="start.html#fehler-beheben"><i class="fa fa-check"></i><b>2.6.3</b> Fehler beheben</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="start.html"><a href="start.html#historische-relikte"><i class="fa fa-check"></i><b>2.7</b> Historische Relikte</a></li>
</ul></li>
<li class="part"><span><b>II Vorbereitung</b></span></li>
<li class="chapter" data-level="3" data-path="project.html"><a href="project.html"><i class="fa fa-check"></i><b>3</b> R Projekte</a>
<ul>
<li class="chapter" data-level="3.1" data-path="project.html"><a href="project.html#die-probleme-der-pfade"><i class="fa fa-check"></i><b>3.1</b> Die Probleme der Pfade</a></li>
<li class="chapter" data-level="3.2" data-path="project.html"><a href="project.html#projekte-in-rstudio-erstellen"><i class="fa fa-check"></i><b>3.2</b> Projekte in RStudio erstellen</a></li>
<li class="chapter" data-level="3.3" data-path="project.html"><a href="project.html#here"><i class="fa fa-check"></i><b>3.3</b> Das <code>here</code> Package</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="vars.html"><a href="vars.html"><i class="fa fa-check"></i><b>4</b> Wichtiges Grundlagenwissen</a>
<ul>
<li class="chapter" data-level="4.1" data-path="vars.html"><a href="vars.html#pfeil"><i class="fa fa-check"></i><b>4.1</b> Variablen speichern und verwenden</a></li>
<li class="chapter" data-level="4.2" data-path="vars.html"><a href="vars.html#datentypen"><i class="fa fa-check"></i><b>4.2</b> Datentypen</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="vars.html"><a href="vars.html#zahlen-buchstaben-und-logische-abfragen"><i class="fa fa-check"></i><b>4.2.1</b> Zahlen, Buchstaben und logische Abfragen</a></li>
<li class="chapter" data-level="4.2.2" data-path="vars.html"><a href="vars.html#factor"><i class="fa fa-check"></i><b>4.2.2</b> Faktoren</a></li>
<li class="chapter" data-level="4.2.3" data-path="vars.html"><a href="vars.html#zeitdaten"><i class="fa fa-check"></i><b>4.2.3</b> Zeitdaten</a></li>
<li class="chapter" data-level="4.2.4" data-path="vars.html"><a href="vars.html#datentypen-konvertieren"><i class="fa fa-check"></i><b>4.2.4</b> Datentypen konvertieren</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="vars.html"><a href="vars.html#struktur-von-datensätzen"><i class="fa fa-check"></i><b>4.3</b> Struktur von Datensätzen</a></li>
<li class="chapter" data-level="4.4" data-path="vars.html"><a href="vars.html#dollar"><i class="fa fa-check"></i><b>4.4</b> Der Dollar-Operator</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="io.html"><a href="io.html"><i class="fa fa-check"></i><b>5</b> Datensätze</a>
<ul>
<li class="chapter" data-level="5.1" data-path="io.html"><a href="io.html#import"><i class="fa fa-check"></i><b>5.1</b> Einlesen externer Dateien</a></li>
<li class="chapter" data-level="5.2" data-path="io.html"><a href="io.html#datensätze-aus-packages-laden"><i class="fa fa-check"></i><b>5.2</b> Datensätze aus Packages laden</a></li>
<li class="chapter" data-level="5.3" data-path="io.html"><a href="io.html#inR"><i class="fa fa-check"></i><b>5.3</b> Datensätze in R erstellen</a></li>
<li class="chapter" data-level="5.4" data-path="io.html"><a href="io.html#speichern-und-konvertieren"><i class="fa fa-check"></i><b>5.4</b> Speichern und Konvertieren</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html"><i class="fa fa-check"></i><b>6</b> Datenvorbereitung</a>
<ul>
<li class="chapter" data-level="6.1" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#tidyverse"><i class="fa fa-check"></i><b>6.1</b> Einführung</a></li>
<li class="chapter" data-level="6.2" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#select"><i class="fa fa-check"></i><b>6.2</b> Spalten auswählen, umbenennen und umsortieren</a></li>
<li class="chapter" data-level="6.3" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#filter"><i class="fa fa-check"></i><b>6.3</b> Zeilen auswählen und umsortieren</a></li>
<li class="chapter" data-level="6.4" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#mutate"><i class="fa fa-check"></i><b>6.4</b> Spalteninhalte verändern</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#single"><i class="fa fa-check"></i><b>6.4.1</b> Einzelne Spalten</a></li>
<li class="chapter" data-level="6.4.2" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#across"><i class="fa fa-check"></i><b>6.4.2</b> Mehrere Spalten</a></li>
<li class="chapter" data-level="6.4.3" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#helfer"><i class="fa fa-check"></i><b>6.4.3</b> Änderungen unter Bedingungen</a></li>
<li class="chapter" data-level="6.4.4" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#function"><i class="fa fa-check"></i><b>6.4.4</b> Eigene Funktionen erstellen</a></li>
<li class="chapter" data-level="6.4.5" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#zeilenweise-berechnen"><i class="fa fa-check"></i><b>6.4.5</b> Zeilenweise berechnen</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#umgang-mit-fehlenden-werten-und-duplikaten"><i class="fa fa-check"></i><b>6.5</b> Umgang mit fehlenden Werten und Duplikaten</a></li>
<li class="chapter" data-level="6.6" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#tidy"><i class="fa fa-check"></i><b>6.6</b> Breites und langes Datenformat</a></li>
<li class="chapter" data-level="6.7" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#spalten-trennen"><i class="fa fa-check"></i><b>6.7</b> Spalten trennen</a></li>
<li class="chapter" data-level="6.8" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#datensätze-zusammenführen"><i class="fa fa-check"></i><b>6.8</b> Datensätze zusammenführen</a></li>
<li class="chapter" data-level="6.9" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#datastring"><i class="fa fa-check"></i><b>6.9</b> Buchstaben und Wörter bearbeiten</a></li>
<li class="chapter" data-level="6.10" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#datafactor"><i class="fa fa-check"></i><b>6.10</b> Faktoren verändern</a></li>
<li class="chapter" data-level="6.11" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#datazeit"><i class="fa fa-check"></i><b>6.11</b> Mit Zeitdaten arbeiten</a></li>
<li class="chapter" data-level="6.12" data-path="datenvorbereitung.html"><a href="datenvorbereitung.html#binäre-antwortmatrix-erstellen"><i class="fa fa-check"></i><b>6.12</b> Binäre Antwortmatrix erstellen</a></li>
</ul></li>
<li class="part"><span><b>III Auswertung</b></span></li>
<li class="chapter" data-level="7" data-path="descr.html"><a href="descr.html"><i class="fa fa-check"></i><b>7</b> Deskriptive Statistik</a>
<ul>
<li class="chapter" data-level="7.1" data-path="descr.html"><a href="descr.html#lagestreu"><i class="fa fa-check"></i><b>7.1</b> Lagemaße und Streuungsmaße</a></li>
<li class="chapter" data-level="7.2" data-path="descr.html"><a href="descr.html#contigency"><i class="fa fa-check"></i><b>7.2</b> Häufigkeiten und Kontingenztafeln</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="visual.html"><a href="visual.html"><i class="fa fa-check"></i><b>8</b> Visualisierungen</a>
<ul>
<li class="chapter" data-level="8.1" data-path="visual.html"><a href="visual.html#einführung"><i class="fa fa-check"></i><b>8.1</b> Einführung</a></li>
<li class="chapter" data-level="8.2" data-path="visual.html"><a href="visual.html#histogram"><i class="fa fa-check"></i><b>8.2</b> Histogramm und Dichte</a></li>
<li class="chapter" data-level="8.3" data-path="visual.html"><a href="visual.html#scatter"><i class="fa fa-check"></i><b>8.3</b> Streudiagramm</a></li>
<li class="chapter" data-level="8.4" data-path="visual.html"><a href="visual.html#boxplot"><i class="fa fa-check"></i><b>8.4</b> Boxplot</a></li>
<li class="chapter" data-level="8.5" data-path="visual.html"><a href="visual.html#violin"><i class="fa fa-check"></i><b>8.5</b> Violin Plot</a></li>
<li class="chapter" data-level="8.6" data-path="visual.html"><a href="visual.html#barplot"><i class="fa fa-check"></i><b>8.6</b> Balkendiagramm</a></li>
<li class="chapter" data-level="8.7" data-path="visual.html"><a href="visual.html#anovaplot"><i class="fa fa-check"></i><b>8.7</b> Liniendiagramm</a></li>
<li class="chapter" data-level="8.8" data-path="visual.html"><a href="visual.html#qqplot"><i class="fa fa-check"></i><b>8.8</b> Quantil-Quantil Plot</a></li>
<li class="chapter" data-level="8.9" data-path="visual.html"><a href="visual.html#morefactors"><i class="fa fa-check"></i><b>8.9</b> Mehrfaktorielle Abbildungen</a>
<ul>
<li class="chapter" data-level="8.9.1" data-path="visual.html"><a href="visual.html#groups"><i class="fa fa-check"></i><b>8.9.1</b> Gruppierungsargumente</a></li>
<li class="chapter" data-level="8.9.2" data-path="visual.html"><a href="visual.html#facets"><i class="fa fa-check"></i><b>8.9.2</b> Facetten als weitere Dimensionen</a></li>
</ul></li>
<li class="chapter" data-level="8.10" data-path="visual.html"><a href="visual.html#adapt"><i class="fa fa-check"></i><b>8.10</b> Anpassen des Aussehens</a>
<ul>
<li class="chapter" data-level="8.10.1" data-path="visual.html"><a href="visual.html#color"><i class="fa fa-check"></i><b>8.10.1</b> Farben</a></li>
<li class="chapter" data-level="8.10.2" data-path="visual.html"><a href="visual.html#themeaxis"><i class="fa fa-check"></i><b>8.10.2</b> Themen und Achsen</a></li>
<li class="chapter" data-level="8.10.3" data-path="visual.html"><a href="visual.html#legende-und-facetten"><i class="fa fa-check"></i><b>8.10.3</b> Legende und Facetten</a></li>
</ul></li>
<li class="chapter" data-level="8.11" data-path="visual.html"><a href="visual.html#patch"><i class="fa fa-check"></i><b>8.11</b> Anordnen mehrerer Graphen</a></li>
<li class="chapter" data-level="8.12" data-path="visual.html"><a href="visual.html#ggsave"><i class="fa fa-check"></i><b>8.12</b> Speichern von Abbildungen</a></li>
<li class="chapter" data-level="8.13" data-path="visual.html"><a href="visual.html#exemplarische-erweiterungen"><i class="fa fa-check"></i><b>8.13</b> Exemplarische Erweiterungen</a>
<ul>
<li class="chapter" data-level="8.13.1" data-path="visual.html"><a href="visual.html#kaplan"><i class="fa fa-check"></i><b>8.13.1</b> Kaplan-Meier-Kurve</a></li>
<li class="chapter" data-level="8.13.2" data-path="visual.html"><a href="visual.html#residuen-überprüfen"><i class="fa fa-check"></i><b>8.13.2</b> Residuen überprüfen</a></li>
<li class="chapter" data-level="8.13.3" data-path="visual.html"><a href="visual.html#ridgeline-plot"><i class="fa fa-check"></i><b>8.13.3</b> Ridgeline Plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="inductive.html"><a href="inductive.html"><i class="fa fa-check"></i><b>9</b> Inferenzstatistik</a>
<ul>
<li class="chapter" data-level="9.1" data-path="inductive.html"><a href="inductive.html#einführung-1"><i class="fa fa-check"></i><b>9.1</b> Einführung</a></li>
<li class="chapter" data-level="9.2" data-path="inductive.html"><a href="inductive.html#ein--und-zweistichprobenszenarien"><i class="fa fa-check"></i><b>9.2</b> Ein- und Zweistichprobenszenarien</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="inductive.html"><a href="inductive.html#t-test-und-welch-test"><i class="fa fa-check"></i><b>9.2.1</b> <em>t</em> Test und Welch Test</a></li>
<li class="chapter" data-level="9.2.2" data-path="inductive.html"><a href="inductive.html#wilcoxon-test"><i class="fa fa-check"></i><b>9.2.2</b> Wilcoxon Test</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="inductive.html"><a href="inductive.html#unterschiede-mehrerer-gruppen"><i class="fa fa-check"></i><b>9.3</b> Unterschiede mehrerer Gruppen</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="inductive.html"><a href="inductive.html#aov"><i class="fa fa-check"></i><b>9.3.1</b> Varianz- und Kovarianzanalyse</a></li>
<li class="chapter" data-level="9.3.2" data-path="inductive.html"><a href="inductive.html#repeated"><i class="fa fa-check"></i><b>9.3.2</b> Varianzanalyse mit Messwiederholung</a></li>
<li class="chapter" data-level="9.3.3" data-path="inductive.html"><a href="inductive.html#kruskal-wallis-test"><i class="fa fa-check"></i><b>9.3.3</b> Kruskal-Wallis Test</a></li>
<li class="chapter" data-level="9.3.4" data-path="inductive.html"><a href="inductive.html#friedman-test"><i class="fa fa-check"></i><b>9.3.4</b> Friedman Test</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="inductive.html"><a href="inductive.html#korrelationskoeffizienten"><i class="fa fa-check"></i><b>9.4</b> Korrelationskoeffizienten</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="inductive.html"><a href="inductive.html#korrelationstests"><i class="fa fa-check"></i><b>9.4.1</b> Korrelationstests</a></li>
<li class="chapter" data-level="9.4.2" data-path="inductive.html"><a href="inductive.html#korrelationstabellen"><i class="fa fa-check"></i><b>9.4.2</b> Korrelationstabellen</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="inductive.html"><a href="inductive.html#regressionsmodelle"><i class="fa fa-check"></i><b>9.5</b> Regressionsmodelle</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="inductive.html"><a href="inductive.html#linregression"><i class="fa fa-check"></i><b>9.5.1</b> Lineare Regression</a></li>
<li class="chapter" data-level="9.5.2" data-path="inductive.html"><a href="inductive.html#logistische-regression"><i class="fa fa-check"></i><b>9.5.2</b> Logistische Regression</a></li>
<li class="chapter" data-level="9.5.3" data-path="inductive.html"><a href="inductive.html#multinomiales-logit-modell"><i class="fa fa-check"></i><b>9.5.3</b> Multinomiales Logit Modell</a></li>
<li class="chapter" data-level="9.5.4" data-path="inductive.html"><a href="inductive.html#kumulatives-logit-modell"><i class="fa fa-check"></i><b>9.5.4</b> Kumulatives Logit Modell</a></li>
<li class="chapter" data-level="9.5.5" data-path="inductive.html"><a href="inductive.html#poisson-regression"><i class="fa fa-check"></i><b>9.5.5</b> Poisson Regression</a></li>
<li class="chapter" data-level="9.5.6" data-path="inductive.html"><a href="inductive.html#negative-binomial-regression"><i class="fa fa-check"></i><b>9.5.6</b> Negative Binomial Regression</a></li>
<li class="chapter" data-level="9.5.7" data-path="inductive.html"><a href="inductive.html#cox"><i class="fa fa-check"></i><b>9.5.7</b> Cox Regression</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="inductive.html"><a href="inductive.html#contingency"><i class="fa fa-check"></i><b>9.6</b> Kontingenztafeln</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="inductive.html"><a href="inductive.html#fisher"><i class="fa fa-check"></i><b>9.6.1</b> Exakter Fisher-Test</a></li>
<li class="chapter" data-level="9.6.2" data-path="inductive.html"><a href="inductive.html#chi-quadrat-tests"><i class="fa fa-check"></i><b>9.6.2</b> Chi Quadrat Tests</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="inductive.html"><a href="inductive.html#voraussetzungen-überprüfen"><i class="fa fa-check"></i><b>9.7</b> Voraussetzungen überprüfen</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="inductive.html"><a href="inductive.html#normalverteilung-der-residuen"><i class="fa fa-check"></i><b>9.7.1</b> Normalverteilung der Residuen</a></li>
<li class="chapter" data-level="9.7.2" data-path="inductive.html"><a href="inductive.html#varianzhomogenität"><i class="fa fa-check"></i><b>9.7.2</b> Varianzhomogenität</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="inductive.html"><a href="inductive.html#broom"><i class="fa fa-check"></i><b>9.8</b> Ergebnisse formatieren</a></li>
</ul></li>
<li class="part"><span><b>IV Vertiefung</b></span></li>
<li class="chapter" data-level="10" data-path="ergebnisse-exportieren.html"><a href="ergebnisse-exportieren.html"><i class="fa fa-check"></i><b>10</b> Ergebnisse exportieren</a>
<ul>
<li class="chapter" data-level="10.1" data-path="ergebnisse-exportieren.html"><a href="ergebnisse-exportieren.html#einführung-2"><i class="fa fa-check"></i><b>10.1</b> Einführung</a></li>
<li class="chapter" data-level="10.2" data-path="ergebnisse-exportieren.html"><a href="ergebnisse-exportieren.html#markdown"><i class="fa fa-check"></i><b>10.2</b> Berichte</a></li>
<li class="chapter" data-level="10.3" data-path="ergebnisse-exportieren.html"><a href="ergebnisse-exportieren.html#tabellen"><i class="fa fa-check"></i><b>10.3</b> Tabellen</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="ergebnisse-exportieren.html"><a href="ergebnisse-exportieren.html#knitr"><i class="fa fa-check"></i><b>10.3.1</b> Exportieren nach Word und PDF</a></li>
<li class="chapter" data-level="10.3.2" data-path="ergebnisse-exportieren.html"><a href="ergebnisse-exportieren.html#latex"><i class="fa fa-check"></i><b>10.3.2</b> Exportieren nach LaTeX</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="datatypes.html"><a href="datatypes.html"><i class="fa fa-check"></i><b>11</b> Datenstrukturen</a>
<ul>
<li class="chapter" data-level="11.1" data-path="datatypes.html"><a href="datatypes.html#vec"><i class="fa fa-check"></i><b>11.1</b> Vektor</a></li>
<li class="chapter" data-level="11.2" data-path="datatypes.html"><a href="datatypes.html#matrix"><i class="fa fa-check"></i><b>11.2</b> Matrix</a></li>
<li class="chapter" data-level="11.3" data-path="datatypes.html"><a href="datatypes.html#tibble"><i class="fa fa-check"></i><b>11.3</b> Data.frame und tibble</a></li>
<li class="chapter" data-level="11.4" data-path="datatypes.html"><a href="datatypes.html#lists"><i class="fa fa-check"></i><b>11.4</b> Liste</a></li>
<li class="chapter" data-level="11.5" data-path="datatypes.html"><a href="datatypes.html#umwandlung"><i class="fa fa-check"></i><b>11.5</b> Umwandlungen</a></li>
<li class="chapter" data-level="11.6" data-path="datatypes.html"><a href="datatypes.html#objektorientierung"><i class="fa fa-check"></i><b>11.6</b> Objektorientierung</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="iterationmain.html"><a href="iterationmain.html"><i class="fa fa-check"></i><b>12</b> Funktionen wiederholt anwenden</a>
<ul>
<li class="chapter" data-level="12.1" data-path="iterationmain.html"><a href="iterationmain.html#iteration"><i class="fa fa-check"></i><b>12.1</b> Das Copy &amp; Paste Problem</a></li>
<li class="chapter" data-level="12.2" data-path="iterationmain.html"><a href="iterationmain.html#map"><i class="fa fa-check"></i><b>12.2</b> Listenbasierte Berechnungen</a></li>
<li class="chapter" data-level="12.3" data-path="iterationmain.html"><a href="iterationmain.html#for"><i class="fa fa-check"></i><b>12.3</b> for-Schleifen</a></li>
<li class="chapter" data-level="12.4" data-path="iterationmain.html"><a href="iterationmain.html#nest"><i class="fa fa-check"></i><b>12.4</b> Einnisten</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i>Appendix</a>
<ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#datensatzerläuterungen"><i class="fa fa-check"></i>Datensatzerläuterungen</a>
<ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#big-five"><i class="fa fa-check"></i>Big Five</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#weitere-datensätze"><i class="fa fa-check"></i>Weitere Datensätze</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#literaturverzeichnis"><i class="fa fa-check"></i>Literaturverzeichnis</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#verwendete-softwareversionen"><i class="fa fa-check"></i>Verwendete Softwareversionen</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R für empirische Wissenschaften</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="visual" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Kapitel 8</span> Visualisierungen<a href="visual.html#visual" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="einführung" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Einführung<a href="visual.html#einführung" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Für sämtliche Visualisierungen werden wir das <code>ggplot</code> Package aus dem <code>tidyverse</code> verwenden. <code>ggplot</code> steht dabei für <strong>g</strong>rammar of <strong>g</strong>raphics (engl. für Grammatik der Abbildungen).</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb276-1"><a href="visual.html#cb276-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>Wir werden wie bei der deskriptiven Statistik auch hier mit der leicht modifizierten Variante des Big Five Datensatzes arbeiten.</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb277-1"><a href="visual.html#cb277-1" aria-hidden="true" tabindex="-1"></a>big5_mod</span></code></pre></div>
<pre class="bordercode"><code># A tibble: 200 × 6
  Alter Geschlecht Extraversion Neurotizismus Gruppe    ID
  &lt;dbl&gt; &lt;chr&gt;             &lt;dbl&gt;         &lt;dbl&gt; &lt;fct&gt;  &lt;int&gt;
1    36 m                   3             1.9 Mittel     1
2    30 f                   3.1           3.4 Jung       2
3    23 m                   3.4           2.4 Jung       3
4    54 m                   3.3           4.2 Weise      4
# … with 196 more rows</code></pre>
<p>In Abbildung <a href="visual.html#fig:ggplot">8.1</a> sind die grundsätzlichen Komponenten einer <code>ggplot</code> Abbildung links und je ein entsprechendes Beispiel rechts abgebildet. Jeder <code>ggplot</code> besteht aus verschiedenen Layern, die untereinander gelegt werden. Um eine Abbildung zu erstellen, muss auf jeden Fall <em>Data</em>, <em>Aestetics</em> und <em>Geometries</em> vorhanden sein. Die Layer namens <em>Scales</em> und <em>Theme</em> sind hingegen optional und passen lediglich das Erscheinungsbild an. Wir werden uns in Kapitel <a href="visual.html#histogram">8.2</a> bis <a href="visual.html#qqplot">8.8</a>) die jeweiligen <em>Data</em>, Aestetics und <em>Geometries</em> anschauen. Erst in Kapitel <a href="visual.html#adapt">8.10</a> werden die Anpassungsmöglichkeiten mithilfe der <em>Scales</em> und <em>Theme</em> Layer umfangreich erklärt.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ggplot"></span>
<img src="images/grammar_of_graphics.png" alt="Vereinfachte Anordnung der Layer im Rahmen der Grammar of Graphics mit Beispielen." width="98%" />
<p class="caption">
Abbildung 8.1: Vereinfachte Anordnung der Layer im Rahmen der Grammar of Graphics mit Beispielen.
</p>
</div>
<p>Es ist wichtig zu verstehen, dass die Layer <strong>unter</strong>einander gelegt werden und man am Ende von unten auf die kreierte Abbildung schaut. Wenn man bspw. mehrere <em>Geometries</em> hintereinander in einen Plot einbaut, kann der zuletzt hinzugefügte den zuvor hinzugefügten ganz oder teilweise überdecken. Bleiben wir bei dem Beispiel der Erstellung eines Histogramms aus Abbildung <a href="visual.html#fig:ggplot">8.1</a>.</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb279-1"><a href="visual.html#cb279-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> big5_mod, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Extraversion)) <span class="sc">+</span> </span>
<span id="cb279-2"><a href="visual.html#cb279-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() </span></code></pre></div>
<p>Innerhalb der Funktion <code>ggplot()</code> wird dem <code>data</code> Argument der Datensatz <code>big5_mod</code> übergeben. Aus diesem Datensatz möchten wir die Spalte <code>Extraversion</code> auf der x-Achse abbilden. Die ersten beiden Layer sind somit bereits vorhanden. Der <em>Aestetics</em> Layer wird durch das <code>mapping</code> Argument hinzugefügt. Allerdings können wir die Spalte nicht einfach mit <code>x = Extraversion</code> hinzufügen, sondern benötigen die Helferfunktion <code>aes()</code>, der wir unsere Spalte übergeben. Dabei steht <code>aes()</code> für <strong>aes</strong>thetics (engl. für Ästhetik).</p>
<p>Neben der Spalte, die auf der x-Achse abgebildet werden soll, kann auf dieselbe Art und Weise die y-Achse definiert werden. Auch Argumente zur Veränderung des Aussehens wie <code>color</code> (Außenfarbe) oder <code>fill</code> (Füllfarbe) können hier innerhalb von <code>aes()</code> der Funktion <code>ggplot</code> übergeben werden. Der eigentliche Graph wird erst mit den <code>geom_*()</code> Funktionen hinzugefügt (z.B. <code>geom_histogram()</code>). Das Präfix <code>geom</code> ist dabei für jeden <strong>Geom</strong>etry Layer derselbe.</p>
<p>Wichtig ist an dieser Stelle noch das Pluszeichen (<code>+</code>), welches sämtliche Layer zusammenbindet und untereinander aneinander bindet. Dies unterscheidet sich grundlegend von den restlichen Funktion innerhalb des <code>tidyverse</code>, die mithilfe der Pipe (<code>|&gt;</code>) kombiniert werden können (siehe Kapitel <a href="datenvorbereitung.html#datenvorbereitung">6</a>).</p>
<div class="warning">
<p>Anders als sonst können Funktionen aus <code>ggplot2</code> nicht mit einer Pipe aneinander gebunden werden. Das hat ausschließlich historische Gründe, da zu der Zeit der Erstellung von <code>ggplot2</code> die Pipe noch nicht existiert hat. Dies wird sich in Zukunft voraussichtlich auch nicht mehr ändern.</p>
</div>
<p>Schauen wir uns die einzelnen Befehle einmal genauer an. Die erste Zeile kreiert nur den Plot an sich und kein Histogramm. Die beiden Argumente <code>data</code> und <code>mapping</code> schreiben wir von nun an nicht mehr explizit aus, da die Reihenfolge dieser Argumente im Verlaufe des Buches dieselbe ist.</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb280-1"><a href="visual.html#cb280-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">x =</span> Extraversion)) </span></code></pre></div>
<p><img src="r-empirische-wissenschaften_files/figure-html/unnamed-chunk-187-1.png" width="288" style="display: block; margin: auto;" /></p>
<p>Wie zuvor kurz erwähnt, beginnt die Funktion zur eigentlichen Visualisierung der Daten mit <code>geom_</code> und endet mit dem Namen der Abbildungsart (hier ein Histogramm).</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb281-1"><a href="visual.html#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">x =</span> Extraversion)) <span class="sc">+</span> </span>
<span id="cb281-2"><a href="visual.html#cb281-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() </span></code></pre></div>
<p><img src="r-empirische-wissenschaften_files/figure-html/unnamed-chunk-188-1.png" width="288" style="display: block; margin: auto;" /></p>
<p>Das standardmäßige Aussehen mit dem grauen Hintergrund ist in dieser Form nicht publikationsreif. Anpassungsmöglichkeiten werden in Kapitel <a href="visual.html#adapt">8.10</a> eingeführt.</p>
</div>
<div id="histogram" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Histogramm und Dichte<a href="visual.html#histogram" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Das Histogramm wurde exemplarisch bereits zur Erklärung des Aufbau eines <code>ggplot</code>s in der Einführung beschrieben. Im Falle eines Histogramms bedarf es nur der Zuweisung der Variable für die x-Achse, da auf der y-Achse die Häufigkeitsverteilung dargestellt wird.</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb282-1"><a href="visual.html#cb282-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">x =</span> Extraversion)) <span class="sc">+</span> </span>
<span id="cb282-2"><a href="visual.html#cb282-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() </span></code></pre></div>
<p>Für ein schlichteres Aussehen fügen wir in Abbildung <a href="visual.html#fig:histogramplot">8.2</a> (b) noch eine schwarze Rahmenfarbe mit dem <code>color</code> Argument und eine weiße Füllungsfarbe mit <code>fill</code> hinzu.</p>
<p>Histogramme sind maßgeblich von der gewählten Breite der Balken abhängig. Bei zu wenigen Balken können Informationen der Verteilung verloren gehen, bei zu vielen hingegen irrelevante Trends erscheinen. Dieses kann entweder direkt mit der Anzahl der Balken (<code>bins</code> Argument) oder mit der Breite (<code>binwidth</code> Argument) verändert werden. Wir werden hier das Argument <code>binwidth</code> verwenden, da diesem auch eine Funktion übergeben werden kann.</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb283-1"><a href="visual.html#cb283-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">x =</span> Extraversion)) <span class="sc">+</span> </span>
<span id="cb283-2"><a href="visual.html#cb283-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(</span>
<span id="cb283-3"><a href="visual.html#cb283-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb283-4"><a href="visual.html#cb283-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, </span>
<span id="cb283-5"><a href="visual.html#cb283-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">binwidth =</span> <span class="fl">0.2</span></span>
<span id="cb283-6"><a href="visual.html#cb283-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:histogramplot"></span>
<img src="r-empirische-wissenschaften_files/figure-html/histogramplot-1.png" alt="Histogramme im Vergleich." width="768" />
<p class="caption">
Abbildung 8.2: Histogramme im Vergleich.
</p>
</div>
<p>Es gibt verschiedene Arten, eine möglichst optimale <code>binwidth</code> herauszufinden. Exemplarisch sei hier die Freedman-Diaconis Regel angewandt. Diese neue Funktion kann ohne weiteres dem <code>binwidth</code> Argument übergeben werden. Das Ergebnis ist in Abbildung <a href="visual.html#fig:histodensity">8.3</a> (a) gezeigt.</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb284-1"><a href="visual.html#cb284-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">x =</span> Extraversion)) <span class="sc">+</span> </span>
<span id="cb284-2"><a href="visual.html#cb284-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(</span>
<span id="cb284-3"><a href="visual.html#cb284-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb284-4"><a href="visual.html#cb284-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb284-5"><a href="visual.html#cb284-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">binwidth =</span> <span class="cf">function</span>(x) (<span class="fu">max</span>(x) <span class="sc">-</span> <span class="fu">min</span>(x)) <span class="sc">/</span> <span class="fu">nclass.FD</span>(x)</span>
<span id="cb284-6"><a href="visual.html#cb284-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Eine weitere Möglichkeit, die Verteilung der Extraversion unserer Population darzustellen, ist die Wahrscheinlichkeitsdichte. Dazu müssen wir lediglich das Suffix des <em>Geometry</em> Layers zu <code>density</code> (engl. für Dichte) verändern (siehe Abbildung <a href="visual.html#fig:histodensity">8.3</a> (b)).</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb285-1"><a href="visual.html#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">x =</span> Extraversion)) <span class="sc">+</span> </span>
<span id="cb285-2"><a href="visual.html#cb285-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span></code></pre></div>
<p>Um das Histogramm gemeinsam mit der Wahrscheinlichkeitsdichte abzubilden, müssen sich beide auf derselben Skala befinden. Zum Beispiel könnte man die Häufigkeiten des Histogramms ebenfalls als Dichte ausdrücken. Dafür muss dem <code>height</code> und <code>y</code> Argument jeweils die berechnete Dichte (<code>density</code>) übergeben werden. Diese wird mithilfe der Helferfunktion <code>stat()</code> berechnet.</p>
<p>Anschließend muss lediglich mit einem weiteren Pluszeichen die Dichtefunktion hinzugefügt werden. Für eine ansprechendere optische Darstellung sei eine graue Füllfarbe ergänzt, welche mithilfe des <code>alpha</code> Argument etwas durchsichtig wird. Das Ergebnis kann in Abbildung <a href="visual.html#fig:histodensity">8.3</a> (c) betrachtet werden.</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb286-1"><a href="visual.html#cb286-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">x =</span> Extraversion, <span class="at">height =</span> <span class="fu">stat</span>(density))) <span class="sc">+</span> </span>
<span id="cb286-2"><a href="visual.html#cb286-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(</span>
<span id="cb286-3"><a href="visual.html#cb286-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">stat</span>(density)),</span>
<span id="cb286-4"><a href="visual.html#cb286-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">binwidth =</span> <span class="fl">0.2</span>,</span>
<span id="cb286-5"><a href="visual.html#cb286-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb286-6"><a href="visual.html#cb286-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;white&quot;</span></span>
<span id="cb286-7"><a href="visual.html#cb286-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb286-8"><a href="visual.html#cb286-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(</span>
<span id="cb286-9"><a href="visual.html#cb286-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;grey&quot;</span>,</span>
<span id="cb286-10"><a href="visual.html#cb286-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.7</span></span>
<span id="cb286-11"><a href="visual.html#cb286-11" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:histodensity"></span>
<img src="r-empirische-wissenschaften_files/figure-html/histodensity-1.png" alt="Histogramm und Wahrscheinlichkeitsdichte separat und kombiniert." width="768" />
<p class="caption">
Abbildung 8.3: Histogramm und Wahrscheinlichkeitsdichte separat und kombiniert.
</p>
</div>
<div class="exercise2">
<p>Das ist ein Platzhalter für eine Übung. Starte die Übung mit <code>hands_on("test")</code>.</p>
</div>
</div>
<div id="scatter" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Streudiagramm<a href="visual.html#scatter" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Das Erstellen eines Streudiagramms benötigt das Festlegen der x-Achse und y-Achse. Im Vergleich zum bereits kennengelernten Histogram ändert sich sonst nur der <em>Geometry</em> Layer zu <code>geom_point()</code>. Exemplarisch sei hier die mittlere Extraversion gegen das Alter in Jahren aufgetragen (siehe Abbildung <a href="visual.html#fig:points">8.4</a> (a)). Auf weitere Parameter wie das Ändern der Farbe (<code>color</code>) oder Form (<code>shape</code>) verzichten wir an dieser Stelle.</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb287-1"><a href="visual.html#cb287-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">x =</span> Extraversion, <span class="at">y =</span> Alter)) <span class="sc">+</span> </span>
<span id="cb287-2"><a href="visual.html#cb287-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p>Bei größeren Datensätzen kann es passieren, dass die Punkte sich überlappen. Um das zu verhindern, kann die Position zu <code>jitter</code> verändert werden. Dies bewirkt eine leichte zufällige Variation jedes Datenpunktes (siehe Abbildung <a href="visual.html#fig:points">8.4</a> (b)).</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb288-1"><a href="visual.html#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">x =</span> Extraversion, <span class="at">y =</span> Alter)) <span class="sc">+</span> </span>
<span id="cb288-2"><a href="visual.html#cb288-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="st">&quot;jitter&quot;</span>)</span></code></pre></div>
<p>Mit <code>geom_smooth()</code> wird eine am besten passende Linie durch die Punkte gezogen. Wir entscheiden uns an dieser Stelle für eine lineare Regressionsgeraden (<code>method = lm</code>). Außerdem färben wir die Gerade schwarz und fügen ein <code>95%</code>iges Konfidenzintervall mit <code>se = TRUE</code> hinzu.</p>
<p>Damit die Regressionsgerade nicht nur in dem Bereich, in dem Daten beobachtet wurden, abgebildet wird, kann zusätzlich das <code>fullrange</code> Argument auf <code>TRUE</code> gesetzt werden. Um den Effekt dieser Funktion zu illustrieren, greifen wir etwas voraus und definieren mit <code>xlim(c(2, 5))</code> die untere Grenze der x-Achse mit 2 und die obere mit 5 (siehe Abbildung <a href="visual.html#fig:points">8.4</a> (c)).</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb289-1"><a href="visual.html#cb289-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">x =</span> Extraversion, <span class="at">y =</span> Alter)) <span class="sc">+</span> </span>
<span id="cb289-2"><a href="visual.html#cb289-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="st">&quot;jitter&quot;</span>) <span class="sc">+</span></span>
<span id="cb289-3"><a href="visual.html#cb289-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(</span>
<span id="cb289-4"><a href="visual.html#cb289-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb289-5"><a href="visual.html#cb289-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> lm, </span>
<span id="cb289-6"><a href="visual.html#cb289-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb289-7"><a href="visual.html#cb289-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">fullrange =</span> <span class="cn">TRUE</span></span>
<span id="cb289-8"><a href="visual.html#cb289-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb289-9"><a href="visual.html#cb289-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>))  </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:points"></span>
<img src="r-empirische-wissenschaften_files/figure-html/points-1.png" alt="Streudiagramm mit und ohne Regressionsgerade." width="768" />
<p class="caption">
Abbildung 8.4: Streudiagramm mit und ohne Regressionsgerade.
</p>
</div>
<div class="exercise2">
<p>Das ist ein Platzhalter für eine Übung. Starte die Übung mit <code>hands_on("test")</code>.</p>
</div>
</div>
<div id="boxplot" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Boxplot<a href="visual.html#boxplot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Würde man nur einen Boxplot für die mittlere Ausprägung von Extraversion erstellen wollen, könnte man dies genau wie in den beiden zuvor besprochenen Kapiteln durch das Auswechseln des <em>Geometry</em> Layers mit <code>geom_boxplot()</code> erreichen (siehe Abbildung <a href="visual.html#fig:boxplot">8.5</a> (a)).</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb290-1"><a href="visual.html#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">y =</span> Extraversion)) <span class="sc">+</span> </span>
<span id="cb290-2"><a href="visual.html#cb290-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p>Dies stellt allerdings eine seltene Situation dar. Meistens ist man am Vergleich mehrerer Variablen interessiert, die auf der x-Achse aufgetragen werden.</p>
<p>An dieser Stelle sollen die Verteilungen von Extraversion und Neurotizismus miteinander verglichen werden. Um dies zu erreichen, müssen wir den Datensatz vom breiten ins lange Datenformat transformieren (siehe Kapitel <a href="datenvorbereitung.html#tidy">6.6</a>). Dafür wird die Funktion <code>pivot_longer()</code> verwendet.</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb291-1"><a href="visual.html#cb291-1" aria-hidden="true" tabindex="-1"></a>big5_long <span class="ot">&lt;-</span> big5_mod <span class="sc">|&gt;</span> </span>
<span id="cb291-2"><a href="visual.html#cb291-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb291-3"><a href="visual.html#cb291-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> Extraversion<span class="sc">:</span>Neurotizismus,</span>
<span id="cb291-4"><a href="visual.html#cb291-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">&quot;Faktor&quot;</span>,</span>
<span id="cb291-5"><a href="visual.html#cb291-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;Auspraegung&quot;</span></span>
<span id="cb291-6"><a href="visual.html#cb291-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb291-7"><a href="visual.html#cb291-7" aria-hidden="true" tabindex="-1"></a>big5_long</span></code></pre></div>
<pre class="bordercode"><code># A tibble: 400 × 6
  Alter Geschlecht Gruppe    ID Faktor        Auspraegung
  &lt;dbl&gt; &lt;chr&gt;      &lt;fct&gt;  &lt;int&gt; &lt;chr&gt;               &lt;dbl&gt;
1    36 m          Mittel     1 Extraversion          3  
2    36 m          Mittel     1 Neurotizismus         1.9
3    30 f          Jung       2 Extraversion          3.1
4    30 f          Jung       2 Neurotizismus         3.4
# … with 396 more rows</code></pre>
<p>Nach der Umwandlung sind in <code>big5_long</code> die Persönlichkeitsfaktoren in der Spalte <code>Faktor</code> und die Extraversions- und Neurotizismusausprägung in der Spalte <code>Auspraegung</code>.</p>
<p>Einen Boxplot erstellt man mit <code>geom_boxplot()</code>. Auf der x-Achse möchten wir die Persönlichkeitsfaktoren und auf der y-Achse die mittleren Ausprägungen darstellen (siehe Abbildung <a href="visual.html#fig:boxplot">8.5</a> (b)).</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb293-1"><a href="visual.html#cb293-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_long, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Auspraegung)) <span class="sc">+</span> </span>
<span id="cb293-2"><a href="visual.html#cb293-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p>Um zusätzlich Fehlerbalken zu erhalten, müssen diese mit <code>stat_boxplot()</code> berechnet werden. Das Argument <code>geom</code> muss auf <code>"errorbar"</code> (engl. für Fehlerbalken) gesetzt werden. Die Breite des Fehlerbalkens kann durch das optionale Argument <code>width</code> kontrolliert werden. Zum Ausblenden der Ausreißer setzt man innerhalb von <code>geom_boxplot()</code> die <code>outlier.shape</code> auf <code>NA</code> (Akronym für <strong>N</strong>ot <strong>A</strong>vailable, engl. für nicht vorhanden). Das Ergebnis ist in Abbildung <a href="visual.html#fig:boxplot">8.5</a> (c) illustriert.</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb294-1"><a href="visual.html#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_long, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Auspraegung)) <span class="sc">+</span> </span>
<span id="cb294-2"><a href="visual.html#cb294-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_boxplot</span>(<span class="at">geom =</span> <span class="st">&quot;errorbar&quot;</span>, <span class="at">width =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb294-3"><a href="visual.html#cb294-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape =</span> <span class="cn">NA</span>) </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:boxplot"></span>
<img src="r-empirische-wissenschaften_files/figure-html/boxplot-1.png" alt="Boxplots im Vergleich." width="768" />
<p class="caption">
Abbildung 8.5: Boxplots im Vergleich.
</p>
</div>
<div class="idea">
<p>Beim Hinzufügen von Fehlerbalken ist die Reihenfolge der Funktionsaufrufe entscheidend, da die verschiedenen Layer untereinander gezeichnet werden. Würden wir also zunächst <code>geom_boxplot()</code> und erst anschließend <code>stat_boxplot()</code> zum <code>ggplot</code> hinzufügen, würde die Linie des Fehlerbalkens über dem Boxplot abgebildet werden.</p>
</div>
<div class="exercise2">
<p>Das ist ein Platzhalter für eine Übung. Starte die Übung mit <code>hands_on("test")</code>.</p>
</div>
</div>
<div id="violin" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Violin Plot<a href="visual.html#violin" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Im Vergleich zu Boxplots ändert sich zum Einen der <em>Geometry</em> Layer, welcher nun <code>geom_violin()</code> heißt und zum Anderen muss noch eine willkürliche Koordinate für die x-Achse gewählt werden (hier 0) (siehe Abbildung <a href="visual.html#fig:violinplot">8.6</a> (a)).</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb295-1"><a href="visual.html#cb295-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">0</span>, <span class="at">y =</span> Extraversion)) <span class="sc">+</span> </span>
<span id="cb295-2"><a href="visual.html#cb295-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>()</span></code></pre></div>
<p>Für mehrere Violin Plots nutzen wir genau wie zuvor bei den Boxplots den Datensatz im langen Datenformat namens <code>big5_long</code> (siehe Kapitel <a href="visual.html#boxplot">8.4</a> und <a href="datenvorbereitung.html#tidy">6.6</a>). Auch hier werden auf der x-Achse die Persönlichkeitsfaktoren und auf der y-Achse die jeweilige Ausprägung ausgegeben (siehe Abbildung <a href="visual.html#fig:violinplot">8.6</a> (b)).</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb296-1"><a href="visual.html#cb296-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_long, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Auspraegung)) <span class="sc">+</span> </span>
<span id="cb296-2"><a href="visual.html#cb296-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>()</span></code></pre></div>
<p>Optional kann zusätzlich das Argument <code>trim</code> auf <code>FALSE</code> gesetzt werden, um das Abschneiden der Enden des Violin Plots zu verhindern. Mithilfe des Arguments <code>draw_quantiles</code> können wir explizit beliebige Quantile (hier Quartile) einzeichnen lassen. Das Ergebnis ist in Abbildung <a href="visual.html#fig:violinplot">8.6</a> (c) zu sehen.</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb297-1"><a href="visual.html#cb297-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_long, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Auspraegung)) <span class="sc">+</span> </span>
<span id="cb297-2"><a href="visual.html#cb297-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(</span>
<span id="cb297-3"><a href="visual.html#cb297-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">trim =</span> <span class="cn">FALSE</span>, </span>
<span id="cb297-4"><a href="visual.html#cb297-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">draw_quantiles =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>)</span>
<span id="cb297-5"><a href="visual.html#cb297-5" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:violinplot"></span>
<img src="r-empirische-wissenschaften_files/figure-html/violinplot-1.png" alt="Violin Plots im Vergleich." width="768" />
<p class="caption">
Abbildung 8.6: Violin Plots im Vergleich.
</p>
</div>
<div class="exercise2">
<p>Das ist ein Platzhalter für eine Übung. Starte die Übung mit <code>hands_on("test")</code>.</p>
</div>
</div>
<div id="barplot" class="section level2 hasAnchor" number="8.6">
<h2><span class="header-section-number">8.6</span> Balkendiagramm<a href="visual.html#barplot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Bei Balkendiagrammen möchte man in der Regel mehrere Merkmale miteinander vergleichen. Deswegen müssen wir genau wie auch bereits bei den Boxplots und Violin Plots den Datensatz erst in ein langes Format bringen (siehe Kapitel <a href="visual.html#boxplot">8.4</a> und <a href="datenvorbereitung.html#tidy">6.6</a>).</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb298-1"><a href="visual.html#cb298-1" aria-hidden="true" tabindex="-1"></a>big5_long <span class="ot">&lt;-</span> big5_mod <span class="sc">|&gt;</span> </span>
<span id="cb298-2"><a href="visual.html#cb298-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb298-3"><a href="visual.html#cb298-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> Extraversion<span class="sc">:</span>Neurotizismus,</span>
<span id="cb298-4"><a href="visual.html#cb298-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">&quot;Faktor&quot;</span>,</span>
<span id="cb298-5"><a href="visual.html#cb298-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;Auspraegung&quot;</span></span>
<span id="cb298-6"><a href="visual.html#cb298-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>In der Wissenschaft sollen häufig Mittelwerte miteinander verglichen werden, welche vor der vor der graphischen Darstellung berechnet werden müssen. Zusätzlich berechnen wir die Standardabweichung zur späteren Erstellung der Fehlerbalken. Alternativ könnte man mit dem Teilen der Standardabweichung durch die Stichprobengröße auch den Standardfehler abbilden. Wie man diese Lage- und Streuungsmaße berechnet, wurde bereits in Kapitel <a href="descr.html#lagestreu">7.1</a> eingeführt.</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb299-1"><a href="visual.html#cb299-1" aria-hidden="true" tabindex="-1"></a>big5_means <span class="ot">&lt;-</span> big5_long <span class="sc">|&gt;</span> </span>
<span id="cb299-2"><a href="visual.html#cb299-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Faktor) <span class="sc">|&gt;</span> </span>
<span id="cb299-3"><a href="visual.html#cb299-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb299-4"><a href="visual.html#cb299-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Mean =</span> <span class="fu">mean</span>(Auspraegung, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb299-5"><a href="visual.html#cb299-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">SD =</span> <span class="fu">sd</span>(Auspraegung, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb299-6"><a href="visual.html#cb299-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb299-7"><a href="visual.html#cb299-7" aria-hidden="true" tabindex="-1"></a>big5_means</span></code></pre></div>
<pre class="bordercode"><code># A tibble: 2 × 3
  Faktor         Mean    SD
  &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt;
1 Extraversion   3.08 0.347
2 Neurotizismus  3.13 0.682</code></pre>
<p>Die Balken werden mit <code>geom_col()</code> erstellt. Auf der x-Achse sind demnach wie zuvor auch die Persönlichkeitsfaktoren und auf der y-Achse die Mittelwerte aufgetragen (siehe Abbildung <a href="visual.html#fig:barplots">8.7</a> (a)).</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb301-1"><a href="visual.html#cb301-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_means, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Mean)) <span class="sc">+</span></span>
<span id="cb301-2"><a href="visual.html#cb301-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() </span></code></pre></div>
<div class="idea">
<p>Verwechsle <code>geom_col()</code> nicht mit <code>geom_bar()</code>. Erstere Funktion stellt genau das dar, was man ihr übergibt (z.B. Mittelwerte). Letztere Funktion hingegen erstellt Balken mit einer Höhe, die proportional zur Anzahl der Fälle in der jeder Gruppe ist. Dies findet in der Wissenschaft seltener Anwendung, weswegen man im Regelfall mit <code>geom_col()</code> besser bedient ist.</p>
</div>
<p>Um das Balkendiagramm zu verschönern, können wir auch hier die Füllfarbe (<code>fill</code>) und die Rahmenfarbe (<code>color</code>) entsprechend anpassen (siehe Kapitel <a href="visual.html#color">8.10.1</a>). Zusätzlich bilden wir mit <code>geom_errorbar()</code> die Standardabweichung (<code>SD</code>) ab, indem wir das Minimum des Fehlerbalken als Mittelwert <strong>minus</strong> Standardabweichung und das Maximum als Mittelwert <strong>plus</strong> Standardabweichung festlegen.</p>
<p>Die Breite der Fehlerbalken wird mit dem Argument <code>width</code> verändert. Beachte an dieser Stelle, dass die Grenzen der Fehlerbalken (<code>ymin</code> und <code>ymax</code>) im Gegensatz zur Fehlerbalkenbreite innerhalb der Helferfunktion <code>aes()</code> definiert werden müssen. Das Ergebnis ist in Abbildung <a href="visual.html#fig:barplots">8.7</a> (b) dargestellt. Mehrfaktorielle Balkendiagramme werden in Kapitel <a href="visual.html#morefactors">8.9</a> eingeführt.</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb302-1"><a href="visual.html#cb302-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_means, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Mean)) <span class="sc">+</span></span>
<span id="cb302-2"><a href="visual.html#cb302-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb302-3"><a href="visual.html#cb302-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(</span>
<span id="cb302-4"><a href="visual.html#cb302-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">ymin =</span> Mean <span class="sc">-</span> SD, <span class="at">ymax =</span> Mean <span class="sc">+</span> SD), </span>
<span id="cb302-5"><a href="visual.html#cb302-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">width =</span> <span class="fl">0.4</span></span>
<span id="cb302-6"><a href="visual.html#cb302-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:barplots"></span>
<img src="r-empirische-wissenschaften_files/figure-html/barplots-1.png" alt="Balkendiagramme mit und ohne Fehlerbalken." width="768" />
<p class="caption">
Abbildung 8.7: Balkendiagramme mit und ohne Fehlerbalken.
</p>
</div>
<div class="exercise2">
<p>Das ist ein Platzhalter für eine Übung. Starte die Übung mit <code>hands_on("test")</code>.</p>
</div>
</div>
<div id="anovaplot" class="section level2 hasAnchor" number="8.7">
<h2><span class="header-section-number">8.7</span> Liniendiagramm<a href="visual.html#anovaplot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Bei Mittelwertvergleichen in Form von Liniendiagrammen ändert sich im Vergleich zu den Balkendiagrammen nur wenig. Auch hier verwenden wir wieder den Datensatz <code>big5_means</code>, der unsere Mittelwerte und Standardabweichungen für Extraversion und Neurotizismus enthält (siehe Kapitel <a href="visual.html#barplot">8.6</a>.</p>
<p>Zum Erstellen der Verbindungslinie zwischen den beiden Persönlichkeitsfaktoren muss das <code>group</code> Argument auf <code>1</code> gesetzt werden. Abschließend müssen wir noch die Linie mit <code>geom_line()</code>, die Mittelwerte als Punkte mit <code>geom_point()</code> und die Fehlerbalken mit <code>geom_errorbar()</code> erstellen. Auch bei den Fehlerbalken ändert sich nichts im Vergleich zu den Balkendiagrammen. Das Ergebnis ist in Abbildung <a href="visual.html#fig:linienplot">8.8</a> (a) illustriert.</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb303-1"><a href="visual.html#cb303-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_means, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Mean, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span> </span>
<span id="cb303-2"><a href="visual.html#cb303-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb303-3"><a href="visual.html#cb303-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb303-4"><a href="visual.html#cb303-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(</span>
<span id="cb303-5"><a href="visual.html#cb303-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">ymin =</span> Mean <span class="sc">-</span> SD, <span class="at">ymax =</span> Mean <span class="sc">+</span> SD), </span>
<span id="cb303-6"><a href="visual.html#cb303-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">width =</span> <span class="fl">0.2</span></span>
<span id="cb303-7"><a href="visual.html#cb303-7" aria-hidden="true" tabindex="-1"></a>  ) </span></code></pre></div>
<p>Ein weiteres klassisches Beispiel eines Liniendiagramms ist die Abbildung von Zeitreihen. Dafür schauen wir uns den Kurs der Bitcoin Aktie an.</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb304-1"><a href="visual.html#cb304-1" aria-hidden="true" tabindex="-1"></a>bitcoin</span></code></pre></div>
<pre class="bordercode"><code># A tibble: 731 × 2
  Date       Price
  &lt;date&gt;     &lt;dbl&gt;
1 2019-01-01 3844.
2 2019-01-02 3943.
3 2019-01-03 3837.
4 2019-01-04 3858.
# … with 727 more rows</code></pre>
<p>Auf der x-Achse soll das Datum und auf der y-Achse der Preis bei geschlossener Börse in USD abgebildet werden. Die Zeitreihe wird wie zuvor mit <code>geom_line()</code> visualisiert. Wichtig ist hierbei, dass das Datum vom Datentyp <code>Date</code> ist (siehe Kapitel <a href="datenvorbereitung.html#datazeit">6.11</a>). Zusätzlich können wir, wie beim Streudiagramm in Kapitel <a href="visual.html#scatter">8.3</a>, mit <code>stat_smooth()</code> eine am besten passendste Kurve zur Kursbeschreibung hinzufügen.</p>
<p>Abschließend greifen wir an dieser Stelle etwas vor und verändern noch die Benennung der x-Achse mithilfe von <code>scale_x_date()</code>. Dabei gibt es verschiedene Möglichkeiten der Anzeige, die jeweils mit einem Prozentzeichen angeführt werden müssen. Hier zeigen wir den abgekürzten Monatsnamen (<code>%b</code>) und das entsprechende Jahr (<code>%Y</code>). Das Ergebnis ist in Abbildung <a href="visual.html#fig:linienplot">8.8</a> (b) illustriert.</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb306-1"><a href="visual.html#cb306-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(bitcoin, <span class="fu">aes</span>(<span class="at">x =</span> Date, <span class="at">y =</span> Price)) <span class="sc">+</span> </span>
<span id="cb306-2"><a href="visual.html#cb306-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb306-3"><a href="visual.html#cb306-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span> </span>
<span id="cb306-4"><a href="visual.html#cb306-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_labels =</span> <span class="st">&quot;%b %Y&quot;</span>)</span></code></pre></div>
<p>Eine weitere Anwendung finden Liniendiagramme bei sogenannten Scree Plots zur Auswahl der Anzahl der Faktoren für explorative Faktorenanalysen. Dafür benötigen wir den kompletten Big Five Rohdatensatz mit den einzelnen Fragen zu den Persönlichkeitsfaktoren namens <code>big_five_comp</code>. Mit der im <code>remp</code> Package enthaltenen Funktion <code>data_eigen()</code> können die entsprechenden Eigenvalues berechnet werden, die wir im Scree Plot abbilden wollen.</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb307-1"><a href="visual.html#cb307-1" aria-hidden="true" tabindex="-1"></a>big5_scree <span class="ot">&lt;-</span> big_five_comp <span class="sc">|&gt;</span> </span>
<span id="cb307-2"><a href="visual.html#cb307-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Geschlecht) <span class="sc">|&gt;</span> </span>
<span id="cb307-3"><a href="visual.html#cb307-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_eigen</span>()</span>
<span id="cb307-4"><a href="visual.html#cb307-4" aria-hidden="true" tabindex="-1"></a>big5_scree</span></code></pre></div>
<pre class="bordercode"><code># A tibble: 51 × 2
  Eigenvalues Dimension
        &lt;dbl&gt;     &lt;int&gt;
1        8.25         1
2        4.59         2
3        3.62         3
4        3.57         4
# … with 47 more rows</code></pre>
<p>Auf der x-Achse haben wir unsere verschiedenen Dimensionen und auf der y-Achse die Eigenvalues. Zusätzlich modifizieren wir die Funktionen <code>geom_point()</code> und <code>geom_line()</code> optisch leicht. Neu ist an dieser Stelle die Funktion <code>geom_hline()</code> (für <strong>h</strong>orizontal line), welche eine horizontale Linie beim Schnittpunkt mit der y-Achse von 1 einzeichnet (siehe Abbildung <a href="visual.html#fig:linienplot">8.8</a> (c)).</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb309-1"><a href="visual.html#cb309-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_scree, <span class="fu">aes</span>(<span class="at">x =</span> Dimension, <span class="at">y =</span> Eigenvalues)) <span class="sc">+</span></span>
<span id="cb309-2"><a href="visual.html#cb309-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">19</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb309-3"><a href="visual.html#cb309-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb309-4"><a href="visual.html#cb309-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(</span>
<span id="cb309-5"><a href="visual.html#cb309-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="dv">1</span>), </span>
<span id="cb309-6"><a href="visual.html#cb309-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">0.8</span>, </span>
<span id="cb309-7"><a href="visual.html#cb309-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">linetype =</span> <span class="st">&quot;longdash&quot;</span></span>
<span id="cb309-8"><a href="visual.html#cb309-8" aria-hidden="true" tabindex="-1"></a>  ) </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:linienplot"></span>
<img src="r-empirische-wissenschaften_files/figure-html/linienplot-1.png" alt="Abbildung von Liniendiagrammen als (a) Mittelwertsvergleich (b) Zeitreihe und (c) Scree Plot" width="768" />
<p class="caption">
Abbildung 8.8: Abbildung von Liniendiagrammen als (a) Mittelwertsvergleich (b) Zeitreihe und (c) Scree Plot
</p>
</div>
<div class="exercise2">
<p>Das ist ein Platzhalter für eine Übung. Starte die Übung mit <code>hands_on("test")</code>.</p>
</div>
</div>
<div id="qqplot" class="section level2 hasAnchor" number="8.8">
<h2><span class="header-section-number">8.8</span> Quantil-Quantil Plot<a href="visual.html#qqplot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Zum Berechnen der Residuen muss das <code>broom</code> installiert und geladen werden.</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb310-1"><a href="visual.html#cb310-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span></code></pre></div>
<p>Um mithilfe eines Q-Q Plots die <strong>Q</strong>uantile zweier Verteilungen zu überprüfen, können wir <code>geom_qq()</code> und <code>geom_qq_line()</code> verwenden. Ein häufiger Anwendungsfall ist die graphische Überprüfung, ob die Residuen eines Modells normalverteilt sind. Daher ist dies auch die Standardeinstellung innerhalb der Funktionen. Die Berechnung der Residuen erfolgt mithilfe von <code>augment()</code>, welche genau wie die <code>lm()</code> erst später eingeführt werden (siehe Kapitel <a href="inductive.html#broom">9.8</a> und <a href="inductive.html#linregression">9.5.1</a>).</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb311-1"><a href="visual.html#cb311-1" aria-hidden="true" tabindex="-1"></a>resid_df <span class="ot">&lt;-</span> <span class="fu">lm</span>(Extraversion <span class="sc">~</span> Geschlecht <span class="sc">+</span> Alter, <span class="at">data =</span> big5) <span class="sc">|&gt;</span> </span>
<span id="cb311-2"><a href="visual.html#cb311-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">augment</span>()</span></code></pre></div>
<p>Die interessierende Variable (hier die Residuen <code>.resid</code>) muss dem <code>sample</code> Argument (engl. für Stichprobe) übergeben werden (siehe Abbildung <a href="visual.html#fig:qqplots">8.9</a>).</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb312-1"><a href="visual.html#cb312-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(resid_df, <span class="fu">aes</span>(<span class="at">sample =</span> .resid)) <span class="sc">+</span> </span>
<span id="cb312-2"><a href="visual.html#cb312-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span> </span>
<span id="cb312-3"><a href="visual.html#cb312-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq_line</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:qqplots"></span>
<img src="r-empirische-wissenschaften_files/figure-html/qqplots-1.png" alt="Q-Q Plots" width="384" />
<p class="caption">
Abbildung 8.9: Q-Q Plots
</p>
</div>
<p>Möchte man die Verteilung einer Spalte mit einer anderen Verteilung vergleichen, können mit dem <code>distribution</code> Argument die Quantile einer anderen Verteilung wie der Binomialverteilung (<code>qbinom</code>) oder der t-Verteilung (<code>qt</code>) ohne Anführungszeichen festgelegt werden.</p>
<div class="exercise2">
<p>Das ist ein Platzhalter für eine Übung. Starte die Übung mit <code>hands_on("test")</code>.</p>
</div>
</div>
<div id="morefactors" class="section level2 hasAnchor" number="8.9">
<h2><span class="header-section-number">8.9</span> Mehrfaktorielle Abbildungen<a href="visual.html#morefactors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In den bisherigen Abbildungen haben wir bislang nur jeweils zwei Variablen in Zusammenhang gesetzt, indem eine Variable auf der x-Achse und eine auf der y-Achse visualisiert wurde. Eine dritte Variable kann mit dem Gruppierungselement hinzugefügt werden (siehe Kapitel <a href="visual.html#groups">8.9.1</a>). Für das zeitgleiche Vergleichen einer vierten und fünften Variable innerhalb einer Abbildungen können sogenannte Facetten erstellt werden (siehe Kapitel <a href="visual.html#facets">8.9.2</a>).</p>
<div id="groups" class="section level3 hasAnchor" number="8.9.1">
<h3><span class="header-section-number">8.9.1</span> Gruppierungsargumente<a href="visual.html#groups" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Gruppierungen können in Abhängigkeit der gewünschten Darstellung durch die Argumente <code>color</code>, <code>fill</code>, <code>linetype</code>, <code>size</code> oder <code>shape</code> innerhalb der Helferfunktion <code>aes()</code> erstellt werden. Anders als bisher wird diesen Argumenten in diesem Fall kein Character (z.B. <code>color = "black"</code>) sondern das gruppierende Argument ohne Anführungszeichen übergeben (z.B. <code>color = Geschlecht</code>).</p>
<p>Für einige Abbildungen wie bei Mittelwertsvergleichen in Form von Balken- oder Liniendiagrammen benötigen wir ein zusätzliches <code>position</code> Argument. Dieses spezifiziert, wie die Gruppen zueinander in Verhältnis zu setzen sind. Eine nützliche Wahl ist hierfür die Funktion <code>position_dodge(0.95)</code> (engl. für ausweichen), welche die Gruppen direkt nebeneinander darstellt. Die Zahl in der Klammer steht für den genauen Abstand zwischen den Elementen.</p>
<p>Alternativ könnte man bei Balkendiagrammen auch <code>position = "stack"</code> für eine aufeinander gestapelte Ansicht pro Kategorie verwenden. Wenn man stattdessen <code>position = "fill"</code> verwendet, werden diese übereinander gestapelten Anteile auf 1 standardisiert, sodass man die Verhältnisse besser vergleichen kann.</p>
<p>Zum Abbilden der mittleren Ausprägung von Extraversion und Neurotizismus unterteilt nach Geschlecht in Form eines Boxplots verwenden wir den Datensatz <code>big5_long</code> aus Kapitel <a href="visual.html#boxplot">8.4</a>.</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb313-1"><a href="visual.html#cb313-1" aria-hidden="true" tabindex="-1"></a>big5_long</span></code></pre></div>
<pre class="bordercode"><code># A tibble: 400 × 6
  Alter Geschlecht Gruppe    ID Faktor        Auspraegung
  &lt;dbl&gt; &lt;chr&gt;      &lt;fct&gt;  &lt;int&gt; &lt;chr&gt;               &lt;dbl&gt;
1    36 m          Mittel     1 Extraversion          3  
2    36 m          Mittel     1 Neurotizismus         1.9
3    30 f          Jung       2 Extraversion          3.1
4    30 f          Jung       2 Neurotizismus         3.4
# … with 396 more rows</code></pre>
<p>Die Füllfarbe (<code>fill</code>) machen wir abhängig vom Geschlecht und das Positionsargument wird ebenfalls entsprechend angepasst werden. Das Ergebnis ist in Abbildung <a href="visual.html#fig:twobox">8.10</a> (a) illustriert.</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb315-1"><a href="visual.html#cb315-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_long, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Auspraegung, <span class="at">fill =</span> Geschlecht)) <span class="sc">+</span> </span>
<span id="cb315-2"><a href="visual.html#cb315-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape =</span> <span class="cn">NA</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.95</span>)) </span></code></pre></div>
<p>Falls zusätzlich ein Fehlerbalken angezeigt werden soll, muss auch in <code>stat_boxplot()</code> das Positionsargument verwendet werden (siehe Abbildung <a href="visual.html#fig:twobox">8.10</a> (b)).</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb316-1"><a href="visual.html#cb316-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_long, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Auspraegung, <span class="at">fill =</span> Geschlecht)) <span class="sc">+</span> </span>
<span id="cb316-2"><a href="visual.html#cb316-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_boxplot</span>(</span>
<span id="cb316-3"><a href="visual.html#cb316-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">&quot;errorbar&quot;</span>, </span>
<span id="cb316-4"><a href="visual.html#cb316-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="fl">0.4</span>,</span>
<span id="cb316-5"><a href="visual.html#cb316-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.95</span>)</span>
<span id="cb316-6"><a href="visual.html#cb316-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb316-7"><a href="visual.html#cb316-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape =</span> <span class="cn">NA</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.95</span>)) </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:twobox"></span>
<img src="r-empirische-wissenschaften_files/figure-html/twobox-1.png" alt="Boxplots mit und ohne Fehlerbalken nach drei Variablen gruppiert." width="768" />
<p class="caption">
Abbildung 8.10: Boxplots mit und ohne Fehlerbalken nach drei Variablen gruppiert.
</p>
</div>
<p>Wenn Mittelwerte in Form von Balken- oder Liniendiagrammen unterteilt nach einer dritten Variable miteinander verglichen werden sollen, müssen diese zuerst berechnet werden (siehe Kapitel <a href="descr.html#descr">7</a>). Dabei müssen wir zusätzlich nach der dritten Variable (hier <code>Geschlecht</code>) gruppieren.</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb317-1"><a href="visual.html#cb317-1" aria-hidden="true" tabindex="-1"></a>big5_means2 <span class="ot">&lt;-</span> big5_long <span class="sc">|&gt;</span> </span>
<span id="cb317-2"><a href="visual.html#cb317-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Faktor, Geschlecht) <span class="sc">|&gt;</span> </span>
<span id="cb317-3"><a href="visual.html#cb317-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb317-4"><a href="visual.html#cb317-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Mean =</span> <span class="fu">mean</span>(Auspraegung, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb317-5"><a href="visual.html#cb317-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">SD =</span> <span class="fu">sd</span>(Auspraegung, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb317-6"><a href="visual.html#cb317-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb317-7"><a href="visual.html#cb317-7" aria-hidden="true" tabindex="-1"></a>big5_means2</span></code></pre></div>
<pre class="bordercode"><code># A tibble: 4 × 4
# Groups:   Faktor [2]
  Faktor        Geschlecht  Mean    SD
  &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt;
1 Extraversion  f           3.05 0.358
2 Extraversion  m           3.11 0.328
3 Neurotizismus f           3.25 0.633
4 Neurotizismus m           2.96 0.718</code></pre>
<p>Ansonsten ändert sich im Vergleich zum vorherigen Beispiel nichts. Auch hier muss die Füllfarbe (<code>fill = Geschlecht</code>) und die Position der gruppierten Balken definiert werden. Das Ergebnis ist in Abbildung <a href="visual.html#fig:twob">8.11</a> (a) illustriert.</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb319-1"><a href="visual.html#cb319-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_means2, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Mean, <span class="at">fill =</span> Geschlecht)) <span class="sc">+</span> </span>
<span id="cb319-2"><a href="visual.html#cb319-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.95</span>), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span> </span>
<span id="cb319-3"><a href="visual.html#cb319-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(</span>
<span id="cb319-4"><a href="visual.html#cb319-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">ymin =</span> Mean <span class="sc">-</span> SD, </span>
<span id="cb319-5"><a href="visual.html#cb319-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">ymax =</span> Mean <span class="sc">+</span> SD), </span>
<span id="cb319-6"><a href="visual.html#cb319-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="fl">0.4</span>, </span>
<span id="cb319-7"><a href="visual.html#cb319-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.95</span>)</span>
<span id="cb319-8"><a href="visual.html#cb319-8" aria-hidden="true" tabindex="-1"></a>  )  </span></code></pre></div>
<p>Ein weiterer Anwendungsfall sind gruppierte Liniendiagramme. Hierfür ändern wir an dieser Stelle das Argument <code>fill</code> zu <code>linetype</code>. Zusätzlich muss das Gruppierungsargument (hier <code>Geschlecht</code>) den einzelnen Funktionen übergeben werden, da sonst keine Linien zwischen den Gruppen gezeichnet werden würden (siehe Abbildung <a href="visual.html#fig:twob">8.11</a> (b)).</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb320-1"><a href="visual.html#cb320-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_means2, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Mean, <span class="at">linetype =</span> Geschlecht)) <span class="sc">+</span> </span>
<span id="cb320-2"><a href="visual.html#cb320-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(</span>
<span id="cb320-3"><a href="visual.html#cb320-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">group =</span> Geschlecht), </span>
<span id="cb320-4"><a href="visual.html#cb320-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.2</span>)</span>
<span id="cb320-5"><a href="visual.html#cb320-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb320-6"><a href="visual.html#cb320-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.2</span>)) <span class="sc">+</span> </span>
<span id="cb320-7"><a href="visual.html#cb320-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(</span>
<span id="cb320-8"><a href="visual.html#cb320-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">group =</span> Geschlecht,</span>
<span id="cb320-9"><a href="visual.html#cb320-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">ymin =</span> Mean <span class="sc">-</span> SD,</span>
<span id="cb320-10"><a href="visual.html#cb320-10" aria-hidden="true" tabindex="-1"></a>                  <span class="at">ymax =</span> Mean <span class="sc">+</span> SD),</span>
<span id="cb320-11"><a href="visual.html#cb320-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="fl">0.2</span>, </span>
<span id="cb320-12"><a href="visual.html#cb320-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.2</span>)</span>
<span id="cb320-13"><a href="visual.html#cb320-13" aria-hidden="true" tabindex="-1"></a>  ) </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:twob"></span>
<img src="r-empirische-wissenschaften_files/figure-html/twob-1.png" alt="Balken- und Liniendiagramme mit drei Variablen." width="768" />
<p class="caption">
Abbildung 8.11: Balken- und Liniendiagramme mit drei Variablen.
</p>
</div>
<div class="exercise2">
<p>Das ist ein Platzhalter für eine Übung. Starte die Übung mit <code>hands_on("test")</code>.</p>
</div>
</div>
<div id="facets" class="section level3 hasAnchor" number="8.9.2">
<h3><span class="header-section-number">8.9.2</span> Facetten als weitere Dimensionen<a href="visual.html#facets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Für das Hinzufügen einer vierten Variable ändert sich im Vergleich zu Kapitel <a href="visual.html#groups">8.9.1</a> nur die zusätzliche Funktion <code>facet_wrap()</code>, welche die vierte Variable in Form einer sogenannten Facette abbildet. Auch hier verwenden wir den <code>big5_long</code> Datensatz (siehe Kapitel <a href="visual.html#boxplot">8.4</a>).</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb321-1"><a href="visual.html#cb321-1" aria-hidden="true" tabindex="-1"></a>big5_long</span></code></pre></div>
<pre class="bordercode"><code># A tibble: 400 × 6
  Alter Geschlecht Gruppe    ID Faktor        Auspraegung
  &lt;dbl&gt; &lt;chr&gt;      &lt;fct&gt;  &lt;int&gt; &lt;chr&gt;               &lt;dbl&gt;
1    36 m          Mittel     1 Extraversion          3  
2    36 m          Mittel     1 Neurotizismus         1.9
3    30 f          Jung       2 Extraversion          3.1
4    30 f          Jung       2 Neurotizismus         3.4
# … with 396 more rows</code></pre>
<p>Innerhalb von <code>facet_wrap()</code> muss die Helferfunktion <code>vars()</code> den gewünschten Spaltennamen umschließen.</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb323-1"><a href="visual.html#cb323-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_long, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Auspraegung, <span class="at">fill =</span> Geschlecht)) <span class="sc">+</span></span>
<span id="cb323-2"><a href="visual.html#cb323-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape =</span> <span class="cn">NA</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.95</span>)) <span class="sc">+</span></span>
<span id="cb323-3"><a href="visual.html#cb323-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Gruppe))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:threebox"></span>
<img src="r-empirische-wissenschaften_files/figure-html/threebox-1.png" alt="Boxplot mit vier Variablen." width="768" />
<p class="caption">
Abbildung 8.12: Boxplot mit vier Variablen.
</p>
</div>
<p>Wir sehen in Abbildung <a href="visual.html#fig:threebox">8.12</a>, dass die Altersgruppen in einem Raster als separate Graphen angezeigt werden. Die Anzahl der Spalten in der Anordnung können mit dem <code>ncol</code> Argument angepasst werden (z.B. <code>ncol = 2</code>). Mit dem <code>scales</code> Argument ist es möglich, die x-Achse (<code>scales = "free_x"</code>) oder y-Achse (<code>scales = "free_y"</code>) auf unterschiedlichen Skalen anzeigen zu lassen.</p>
<p>Äquivalent zum Abbilden von drei Variablen in Kapitel <a href="visual.html#groups">8.9.1</a>, müssen beim Mittelwertsvergleich in Form von Balken- oder Liniendiagrammen auch hier erst die entsprechenden Werte berechnet werden. Der Unterschied ist die zusätzlich gruppierende Variable (hier <code>Gruppe</code>) innerhalb von <code>group_by()</code> (siehe Kapitel <a href="descr.html#descr">7</a>).</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb324-1"><a href="visual.html#cb324-1" aria-hidden="true" tabindex="-1"></a>big5_means3 <span class="ot">&lt;-</span> big5_long <span class="sc">|&gt;</span> </span>
<span id="cb324-2"><a href="visual.html#cb324-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Faktor, Geschlecht, Gruppe) <span class="sc">|&gt;</span> </span>
<span id="cb324-3"><a href="visual.html#cb324-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb324-4"><a href="visual.html#cb324-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Mean =</span> <span class="fu">mean</span>(Auspraegung, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb324-5"><a href="visual.html#cb324-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">SD =</span> <span class="fu">sd</span>(Auspraegung, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb324-6"><a href="visual.html#cb324-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb324-7"><a href="visual.html#cb324-7" aria-hidden="true" tabindex="-1"></a>big5_means3</span></code></pre></div>
<pre class="bordercode"><code># A tibble: 12 × 5
# Groups:   Faktor, Geschlecht [4]
  Faktor       Geschlecht Gruppe  Mean    SD
  &lt;chr&gt;        &lt;chr&gt;      &lt;fct&gt;  &lt;dbl&gt; &lt;dbl&gt;
1 Extraversion f          Jung    3.07 0.373
2 Extraversion f          Mittel  3.07 0.299
3 Extraversion f          Weise   2.83 0.269
4 Extraversion m          Jung    3.12 0.324
# … with 8 more rows</code></pre>
<p>Anschließend können auf dieselbe Art und Weise mithilfe von <code>facet_wrap()</code> die Altersgruppen eingefügt werden.</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb326-1"><a href="visual.html#cb326-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_means3, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Mean, <span class="at">fill =</span> Geschlecht)) <span class="sc">+</span> </span>
<span id="cb326-2"><a href="visual.html#cb326-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.95</span>), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span> </span>
<span id="cb326-3"><a href="visual.html#cb326-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(</span>
<span id="cb326-4"><a href="visual.html#cb326-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">ymin =</span> Mean <span class="sc">-</span> SD, <span class="at">ymax =</span> Mean <span class="sc">+</span> SD), </span>
<span id="cb326-5"><a href="visual.html#cb326-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="fl">0.4</span>, </span>
<span id="cb326-6"><a href="visual.html#cb326-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.95</span>)</span>
<span id="cb326-7"><a href="visual.html#cb326-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb326-8"><a href="visual.html#cb326-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Gruppe)) </span></code></pre></div>
<p>Auch beim Hinzufügen einer fünften Variable finden wir das gleiche Prinzip vor. Zunächst erstellen wir jedoch eine zusätzliche, fünfte Variable namens <code>Zeitpunkt</code> mit zwei Messzeitpunkten für den <code>big5_long</code> Datensatz (siehe Kapitel <a href="visual.html#boxplot">8.4</a>). Die Funktion <code>rep()</code> (<strong>rep</strong>eat, engl. für wiederholen) wiederholt dabei die beiden Messzeitpunkte <code>T1</code> und <code>T2</code> jeweils 200 mal, da wir 400 Zeilen in unserem Datensatz haben. In der Praxis hätten wir diese fünfte Spalte schon vorliegen.</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb327-1"><a href="visual.html#cb327-1" aria-hidden="true" tabindex="-1"></a>big5_long <span class="ot">&lt;-</span> big5_long <span class="sc">|&gt;</span> </span>
<span id="cb327-2"><a href="visual.html#cb327-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Zeitpunkt =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;T1&quot;</span>, <span class="st">&quot;T2&quot;</span>), <span class="at">each =</span> <span class="dv">200</span>))  </span></code></pre></div>
<p>Für fünf Variablen ändert sich die zusätzliche Funktion zu <code>facet_grid()</code> mit zwei Argumenten, um die Variable für die Zeilen (<code>rows</code>, hier <code>Zeitpunkt</code>) und jene für die Spalte Spalten (<code>cols</code>, hier <code>Gruppe</code>) festzulegen.</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb328-1"><a href="visual.html#cb328-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_long, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Auspraegung, <span class="at">fill =</span> Geschlecht)) <span class="sc">+</span></span>
<span id="cb328-2"><a href="visual.html#cb328-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape =</span> <span class="cn">NA</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.95</span>)) <span class="sc">+</span></span>
<span id="cb328-3"><a href="visual.html#cb328-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(Zeitpunkt), <span class="at">cols =</span> <span class="fu">vars</span>(Gruppe))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fourbox"></span>
<img src="r-empirische-wissenschaften_files/figure-html/fourbox-1.png" alt="Boxplot mit fünf Variablen." width="768" />
<p class="caption">
Abbildung 8.13: Boxplot mit fünf Variablen.
</p>
</div>
<p>Bei Mittelwertsvergleichen müssen diese mit <code>group_by()</code> und <code>summarise()</code> durch das Hinzufügen einer vierten gruppierenden Variable zunächst berechnet werden.</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb329-1"><a href="visual.html#cb329-1" aria-hidden="true" tabindex="-1"></a>big5_means4 <span class="ot">&lt;-</span> big5_long <span class="sc">|&gt;</span> </span>
<span id="cb329-2"><a href="visual.html#cb329-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Faktor, Geschlecht, Gruppe, Zeitpunkt) <span class="sc">|&gt;</span> </span>
<span id="cb329-3"><a href="visual.html#cb329-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb329-4"><a href="visual.html#cb329-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Mean =</span> <span class="fu">mean</span>(Auspraegung, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb329-5"><a href="visual.html#cb329-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">SD =</span> <span class="fu">sd</span>(Auspraegung, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb329-6"><a href="visual.html#cb329-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb329-7"><a href="visual.html#cb329-7" aria-hidden="true" tabindex="-1"></a>big5_means4</span></code></pre></div>
<pre class="bordercode"><code># A tibble: 24 × 6
# Groups:   Faktor, Geschlecht, Gruppe [12]
  Faktor       Geschlecht Gruppe Zeitpunkt  Mean    SD
  &lt;chr&gt;        &lt;chr&gt;      &lt;fct&gt;  &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;
1 Extraversion f          Jung   T1         3.08 0.391
2 Extraversion f          Jung   T2         3.06 0.362
3 Extraversion f          Mittel T1         2.93 0.121
4 Extraversion f          Mittel T2         3.13 0.336
# … with 20 more rows</code></pre>
<p>Anschließend kann auch hier ein Raster mithilfe von <code>facet_grid()</code> erstellt werden.</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb331-1"><a href="visual.html#cb331-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_means4, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Mean, <span class="at">fill =</span> Geschlecht)) <span class="sc">+</span> </span>
<span id="cb331-2"><a href="visual.html#cb331-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.95</span>), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span> </span>
<span id="cb331-3"><a href="visual.html#cb331-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(</span>
<span id="cb331-4"><a href="visual.html#cb331-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">ymin =</span> Mean <span class="sc">-</span> SD, <span class="at">ymax =</span> Mean <span class="sc">+</span> SD), </span>
<span id="cb331-5"><a href="visual.html#cb331-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="fl">0.4</span>, </span>
<span id="cb331-6"><a href="visual.html#cb331-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.95</span>)</span>
<span id="cb331-7"><a href="visual.html#cb331-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb331-8"><a href="visual.html#cb331-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(Zeitpunkt), <span class="at">cols =</span> <span class="fu">vars</span>(Gruppe)) </span></code></pre></div>
<div class="exercise2">
<p>Das ist ein Platzhalter für eine Übung. Starte die Übung mit <code>hands_on("test")</code>.</p>
</div>
</div>
</div>
<div id="adapt" class="section level2 hasAnchor" number="8.10">
<h2><span class="header-section-number">8.10</span> Anpassen des Aussehens<a href="visual.html#adapt" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Die Standardeinstellungen von <code>ggplot</code> sind praktisch für einen ersten Überblick, aber eignen sich nicht zum Veröffentlichung der Abbildungen in einer wissenschaftlichen Publikation. In den folgenden Kapiteln wir erklärt, wie man Farben, Texte, die Legende, die Achsen und vieles mehr verändert.</p>
<p>Wir werden uns anhand der Abbildung aus Kapitel <a href="visual.html#groups">8.9.1</a> die verschiedenen Anpassungsmöglichkeiten anschauen. Zusätzlich fügen wir bereits an dieser Stelle das <code>alpha</code> Argument hinzu, welches die Deckkraft mit <code>0.8</code> auf 80% hinuntersetzt. Dies sorgt für ein hochwertigeres Aussehen der Farben. Der gruppierte Boxplot wird als <code>p</code> gespeichert und in den folgenden Kapiteln verwendet.</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb332-1"><a href="visual.html#cb332-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(big5_long, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Auspraegung, <span class="at">fill =</span> Geschlecht)) <span class="sc">+</span> </span>
<span id="cb332-2"><a href="visual.html#cb332-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape =</span> <span class="cn">NA</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.95</span>), <span class="at">alpha =</span> <span class="fl">0.8</span>)</span></code></pre></div>
<p>In Abbildung <a href="visual.html#fig:adaptplot">8.14</a> ist die Standardeinstellung von <code>ggplot</code> unserer modifizierten Abbildungen gegenübergestellt. Die verschiedenen Anpassungen können ebenfalls mit einem Pluszeichen (<code>+</code>) aneinandergekettet werden. Wofür welche Funktion genau zuständig ist, wird im weiteren Verlauf kleinschrittig eingeführt.</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb333-1"><a href="visual.html#cb333-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span>  </span>
<span id="cb333-2"><a href="visual.html#cb333-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(</span>
<span id="cb333-3"><a href="visual.html#cb333-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">begin =</span> <span class="fl">0.27</span>, <span class="at">end =</span> <span class="fl">0.72</span>, <span class="at">option =</span> <span class="st">&quot;C&quot;</span>,</span>
<span id="cb333-4"><a href="visual.html#cb333-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&quot;Geschlecht (Auswahl):&quot;</span>,</span>
<span id="cb333-5"><a href="visual.html#cb333-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Weiblich&quot;</span>, <span class="st">&quot;Männlich&quot;</span>)</span>
<span id="cb333-6"><a href="visual.html#cb333-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb333-7"><a href="visual.html#cb333-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">5.2</span>), <span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb333-8"><a href="visual.html#cb333-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Persönlichkeitsfaktor&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Mittlere Ausprägung&quot;</span>) <span class="sc">+</span></span>
<span id="cb333-9"><a href="visual.html#cb333-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">14</span>, <span class="at">base_family =</span> <span class="st">&quot;sans&quot;</span>) <span class="sc">+</span> </span>
<span id="cb333-10"><a href="visual.html#cb333-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb333-11"><a href="visual.html#cb333-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.4</span>, <span class="fl">0.9</span>),</span>
<span id="cb333-12"><a href="visual.html#cb333-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="dv">2</span>),</span>
<span id="cb333-13"><a href="visual.html#cb333-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb333-14"><a href="visual.html#cb333-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>)</span>
<span id="cb333-15"><a href="visual.html#cb333-15" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:adaptplot"></span>
<img src="r-empirische-wissenschaften_files/figure-html/adaptplot-1.png" alt="Standardausgabe im Vergleich mit einer publikationsreifen Abbildung." width="864" />
<p class="caption">
Abbildung 8.14: Standardausgabe im Vergleich mit einer publikationsreifen Abbildung.
</p>
</div>
<div id="color" class="section level3 hasAnchor" number="8.10.1">
<h3><span class="header-section-number">8.10.1</span> Farben<a href="visual.html#color" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Beim Verändern der Farben innerhalb einer Abbildung unterscheiden wir zwischen der Rahmenfarbe (<code>color</code>) und Füllfarbe (<code>fill)</code>. Während die Rahmenfarbe häufig als schwarz gewählt werden sollte, hat man mit der Füllfarbe mehr Freiheiten.</p>
<p>Das Farbschema kann durch verschiedene Farbpaletten adaptiert werden. Häufig sind im wissenschaftlichen Kontext jedoch nur Graustufen erwünscht, welche wir mit <code>scale_fill_grey()</code> erstellen können. Wichtig ist an dieser Stelle das <code>start</code> und <code>end</code> Argument der Farbpalette, da die Grautöne sonst zu dunkel für das Erkennen von Fehlerbalken sein können. Hätten wir in unserem <code>ggplot</code> nicht die Füllfarbe (<code>fill</code>), sondern die Rahmenfarbe (<code>color</code>) verändert, würde man stattdessen die Funktion <code>scale_color_grey()</code> verwenden.</p>
<p>Die <code>brewer</code> Paletten enthalten verschiedene Farben wie blau (<code>"Blues"</code>) oder rot (<code>"Reds"</code>). Diese werden mit der Funktion <code>scale_fill_brewer()</code> erstellt. Mithilfe von <code>scale_fill_manual()</code> können Farben in Form von Hexadezimal Farbkodierungen als einzelne Werte übergeben werden.</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb334-1"><a href="visual.html#cb334-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">scale_fill_grey</span>(<span class="at">start =</span> <span class="fl">0.3</span>, <span class="at">end =</span> <span class="fl">0.7</span>)</span>
<span id="cb334-2"><a href="visual.html#cb334-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Blues&quot;</span>)</span>
<span id="cb334-3"><a href="visual.html#cb334-3" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#A50F15&quot;</span>, <span class="st">&quot;#FC9272&quot;</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:colors"></span>
<img src="r-empirische-wissenschaften_files/figure-html/colors-1.png" alt="Vergleich verschiedener Farbpaletten." width="768" />
<p class="caption">
Abbildung 8.15: Vergleich verschiedener Farbpaletten.
</p>
</div>
<p>Bei der Auswahl einzelner Werte sollte ebenfalls auf Farben innerhalb von Paletten zurückgegriffen werden, da diese aufeinander abgestimmt sind. Es ist generell davon abzuraten eigene Farbkombinationen zu wählen, da diese oft einen unprofessionellen Eindruck erwecken. Die Hexadezimal Farbkodierung erhält man entweder durch Nachschlagen in einer Suchmaschine oder durch Nachschauen in den Farbpaletten. Dafür müssen die Packages <code>scales</code> und <code>RColorBrewer</code> installiert und geladen werden.</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb335-1"><a href="visual.html#cb335-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb335-2"><a href="visual.html#cb335-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span></code></pre></div>
<p>Die Rottöne aus Abbildung <a href="visual.html#fig:colors">8.15</a> wurden bspw. aus der Brewer Farbpalette ausgewählt. Zum Anzeigen von 9 Farben der roten Farbpalette kombinieren wir die Funktion <code>brewer.pal()</code> mit <code>show_col()</code>. Beachte die Trennung der Funktionsnamen einmal mit Punkt und einmal mit Unterstrich.</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb336-1"><a href="visual.html#cb336-1" aria-hidden="true" tabindex="-1"></a><span class="fu">brewer.pal</span>(<span class="dv">9</span>, <span class="st">&quot;Reds&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb336-2"><a href="visual.html#cb336-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">show_col</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-230"></span>
<img src="r-empirische-wissenschaften_files/figure-html/unnamed-chunk-230-1.png" alt="Hexadezimalfarben einer roten Farbpalette." width="384" />
<p class="caption">
Abbildung 8.16: Hexadezimalfarben einer roten Farbpalette.
</p>
</div>
<p>In der Abbildung aus Kapitel <a href="visual.html#adapt">8.10</a> wurde die Farbpalette Viridis verwendet, die Farbenblindheit berücksichtigt. Diese Farbpalette erstellt man mit <code>scale_fill_viridis_d(start = 0.27, end = 0.72, opt = "C")</code>. Wie in bei den Graustufen zuvor können auch hier die Start- und Entwerte angepasst werden. Das optionale <code>opt</code> Argument wählt hier die dritte von acht möglichen Viridis Paletten. Für kontinuierliche Skalen muss stattdessen auf die Funktion <code>scale_fill_viridis_c()</code> zurückgegriffen werden.</p>
</div>
<div id="themeaxis" class="section level3 hasAnchor" number="8.10.2">
<h3><span class="header-section-number">8.10.2</span> Themen und Achsen<a href="visual.html#themeaxis" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Der hellgraue Standardhintergrund und die fehlende Visualisierung der Achsen ist in der Wissenschaft in der Regel nicht erwünscht. Ein gutes minimales Thema ist <code>theme_classic()</code>. Innerhalb der <code>theme_*()</code> Funktionen kann die Textgröße und -Art direkt angepasst werden. Relativ zur Basisgröße (<code>base_size</code>) sind andere Elemente wie Überschriften entsprechend größer. Welches die richtige Größe ist, hängt maßgeblich von den Dimensionen der Abbildung und somit der Auflösung ab (siehe Kapitel <a href="visual.html#ggsave">8.12</a>). Weitere Themen sind z.B. <code>theme_minimal()</code> oder <code>theme_bw()</code>.</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb337-1"><a href="visual.html#cb337-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">14</span>, <span class="at">base_family =</span> <span class="st">&quot;sans&quot;</span>)</span>
<span id="cb337-2"><a href="visual.html#cb337-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">theme_minimal</span>() </span>
<span id="cb337-3"><a href="visual.html#cb337-3" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">theme_bw</span>() </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:themes"></span>
<img src="r-empirische-wissenschaften_files/figure-html/themes-1.png" alt="Vergleich verschiedener Themen aus `ggplot`." width="768" />
<p class="caption">
Abbildung 8.17: Vergleich verschiedener Themen aus <code>ggplot</code>.
</p>
</div>
<p>Neben den direkt in <code>ggplot</code> enthaltenen Themen, stellt das <code>ggthemes</code> Package noch weitere Themen zur Verfügung. Die Beschriftung der x-Achse und y-Achse wird mithilfe der Funktion <code>labs()</code> (Akronym für <strong>lab</strong>el<strong>s</strong>, engl. für Beschriftung) angepasst.</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb338-1"><a href="visual.html#cb338-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Persönlichkeitsfaktor&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Mittlere Ausprägung&quot;</span>)</span></code></pre></div>
<p>Zum Verändern der Textgröße, -ausrichtung und adjustierung, verwenden wir die Funktion <code>theme()</code>. Jedem Argument innerhalb von <code>theme()</code> müssen die Werte (wie z.B. die Textgröße) innerhalb der Helferfunktion <code>element_text()</code> übergeben werden. Das Argument <code>vjust</code> schafft etwas Raum zwischen der Achsenbeschriftung und dem Text der Achsen.</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb339-1"><a href="visual.html#cb339-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> </span>
<span id="cb339-2"><a href="visual.html#cb339-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb339-3"><a href="visual.html#cb339-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="dv">2</span>),</span>
<span id="cb339-4"><a href="visual.html#cb339-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb339-5"><a href="visual.html#cb339-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>)</span>
<span id="cb339-6"><a href="visual.html#cb339-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Mit der Funktion <code>scale_x_discrete()</code> verändert man die Reihenfolge diskreter Merkmale auf der x-Achse. So könnte mithilfe des <code>limits</code> Arguments bspw. zuerst der Boxplot für Neurotizismus angezeigt werden. Mit dem <code>labels</code> Argument gibt es die Möglichkeit, die Namen der Merkmale zu ändern. Dabei befindet sich auf der rechten Seite des Gleichheitszeichens der neue Name (hier <code>Extra</code> und <code>Neuro</code>) und auf der linken Seite die alte Bezeichnung. Äquivalent dazu existiert die Funktion <code>scale_y_discrete()</code>.</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb340-1"><a href="visual.html#cb340-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> </span>
<span id="cb340-2"><a href="visual.html#cb340-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(</span>
<span id="cb340-3"><a href="visual.html#cb340-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="st">&quot;Neurotizismus&quot;</span>, <span class="st">&quot;Extraversion&quot;</span>),</span>
<span id="cb340-4"><a href="visual.html#cb340-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Extraversion&quot;</span> <span class="ot">=</span> <span class="st">&quot;Extra&quot;</span>, <span class="st">&quot;Neurotizismus&quot;</span> <span class="ot">=</span> <span class="st">&quot;Neuro&quot;</span>)</span>
<span id="cb340-5"><a href="visual.html#cb340-5" aria-hidden="true" tabindex="-1"></a>  ) </span></code></pre></div>
<p>Für kontinuierliche Skalen gibt es die Funktionen <code>scale_x_continuous()</code> und <code>scale_y_continuous()</code>. Durch das <code>expand</code> Argument wird der zusätzliche Raum zwischen y-Achse und x-Achse entfernt. Außerdem können hier der Anfang und das Ende der Achse (<code>limits</code>) sowie die Anzahl der Beschriftungen eingestellt werden (<code>breaks</code>).</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb341-1"><a href="visual.html#cb341-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> </span>
<span id="cb341-2"><a href="visual.html#cb341-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb341-3"><a href="visual.html#cb341-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb341-4"><a href="visual.html#cb341-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">5.2</span>),</span>
<span id="cb341-5"><a href="visual.html#cb341-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb341-6"><a href="visual.html#cb341-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Eine nützliche Funktion für das <code>breaks</code> Argument stellt <code>seq()</code> dar, welche die Abstände der Unterteilungen mit <code>by</code> festlegt.</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb342-1"><a href="visual.html#cb342-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="dv">10</span>, <span class="at">by =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre class="bordercode"><code>[1]  0  2  4  6  8 10</code></pre>
<p>Ein häufiges Problem sind zu lange Achsenbeschriftung, die sich überschneiden. Um das Problem zu lösen, gibt es drei Möglichkeiten. Man kann die Beschriftungen mit <code>angle</code> (engl. für Winkel) in Kombination mit <code>hjust</code> (Akronym für <strong>h</strong>orizontal ad<strong>just</strong>ment) in einer 45 Grad Winkel bringen.</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb344-1"><a href="visual.html#cb344-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p>Eine weitere Möglichkeit ist potentielle Überlappungen innerhalb der Funktion <code>guide_axis()</code> zu überprüfen (<code>check.overlap = TRUE</code>) und die Anzahl der verwendeten Zeilen festzulegen (<code>n.dodge = 2</code>). Dies wurde in mehreren Abbildungen dieses Buches verwendet (z.B. in Abbildung <a href="visual.html#fig:themes">8.17</a>).</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb345-1"><a href="visual.html#cb345-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">n.dodge =</span> <span class="dv">2</span>, <span class="at">check.overlap =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<p>Als dritte Option können lange Beschriftungen mit <code>str_wrap()</code>, einer Funktion aus dem <code>stringr</code> Package, in mehrere Zeilen gebrochen werden (siehe Kapitel <a href="datenvorbereitung.html#datastring">6.9</a>). Wenn bspw. mehr als 10 Buchstaben (<code>width = 10</code>) vorhanden sind, werden die Beschriftungen in mehrere Zeilen gebrochen. Diese Option ist vor allem für Beschriftungen mit mehr als einem Wort nützlich.</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb346-1"><a href="visual.html#cb346-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="sc">~</span> <span class="fu">str_wrap</span>(.x, <span class="at">width =</span> <span class="dv">10</span>))</span></code></pre></div>
<p>Abschließend fokussiert man mit <code>coord_cartesian()</code> einen Ausschnitt der Abbildung. Dies ist bspw. zur explorativen Betrachung ohne Ausreißer sinnvoll. Im Gegensatz zu <code>scale_y_continuous()</code> wird in diesem Fall kein Wert gelöscht. Es wird lediglich der neu definierte Ausschnitt vergrößert.</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb347-1"><a href="visual.html#cb347-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>))</span></code></pre></div>
</div>
<div id="legende-und-facetten" class="section level3 hasAnchor" number="8.10.3">
<h3><span class="header-section-number">8.10.3</span> Legende und Facetten<a href="visual.html#legende-und-facetten" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Der Titel und Text der Legend wird am besten über die Farbfunktionen verändert. Beim vorherigen Anpassen der Füllfarbe in Abhängigkeit des Geschlechts, können dabei noch das <code>name</code> Argument für den Titel und das <code>labels</code> Argument für die Merkmalsbezeichnungen hinzugefügt werden.</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb348-1"><a href="visual.html#cb348-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> </span>
<span id="cb348-2"><a href="visual.html#cb348-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(</span>
<span id="cb348-3"><a href="visual.html#cb348-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">begin =</span> <span class="fl">0.27</span>, <span class="at">end =</span> <span class="fl">0.72</span>, <span class="at">option =</span> <span class="st">&quot;C&quot;</span>,</span>
<span id="cb348-4"><a href="visual.html#cb348-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&quot;Geschlecht (Auswahl):&quot;</span>,</span>
<span id="cb348-5"><a href="visual.html#cb348-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Weiblich&quot;</span>, <span class="st">&quot;Männlich&quot;</span>)</span>
<span id="cb348-6"><a href="visual.html#cb348-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Die Reihenfolge der gruppierenden Variable, die in der Legende angezeigt wird, verändern wir mithilfe von <code>lims()</code> (siehe Abbildung <a href="visual.html#fig:legend">8.18</a> (b) im Vergleich zur Ausgangslage (a)).</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb349-1"><a href="visual.html#cb349-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">lims</span>(<span class="at">fill =</span> <span class="fu">c</span>(<span class="st">&quot;m&quot;</span>, <span class="st">&quot;f&quot;</span>))</span></code></pre></div>
<p>Zum Ändern der Reihenfolge der Füllfarben für die jeweiligen Merkmale müssen die Faktorstufen vor Erstellung der Abbildung verändert werden (siehe Kapitel <a href="datenvorbereitung.html#datafactor">6.10</a>).</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb350-1"><a href="visual.html#cb350-1" aria-hidden="true" tabindex="-1"></a>big5_long_rev <span class="ot">&lt;-</span> big5_long <span class="sc">|&gt;</span> </span>
<span id="cb350-2"><a href="visual.html#cb350-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">Geschlecht =</span> <span class="fu">fct_relevel</span>(Geschlecht, <span class="st">&quot;m&quot;</span>)) </span></code></pre></div>
<p>Beim anschließenden Visualisieren verändert sich hingegen nichts im Vergleich zur vorherigen Reihenfolge. Das Ergebnis ist in Abbildung <a href="visual.html#fig:legend">8.18</a> illustriert.</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb351-1"><a href="visual.html#cb351-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big5_long, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Auspraegung, <span class="at">fill =</span> Geschlecht)) <span class="sc">+</span> </span>
<span id="cb351-2"><a href="visual.html#cb351-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape =</span> <span class="cn">NA</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.95</span>), <span class="at">alpha =</span> <span class="fl">0.8</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:legend"></span>
<img src="r-empirische-wissenschaften_files/figure-html/legend-1.png" alt="Verschiedene Reihenfolgen der gruppierenden Variable." width="864" />
<p class="caption">
Abbildung 8.18: Verschiedene Reihenfolgen der gruppierenden Variable.
</p>
</div>
<p>Die Textgröße von Legendentitel und -text werden in der bereits eingeführten <code>theme()</code> Funktion angepasst (siehe Kapitel <a href="visual.html#themeaxis">8.10.2</a>). Ausgeblendet wird der Titel der Legende mit <code>legend.title = element_blank()</code>. Die Position wird am besten über x- und y- Koordinaten festgelegt. Welche Werte hierfür am passendsten hängt direkt von der gewählten Dimension und somit Auflösung der Abbildung beim Speichern ab (siehe Kapitel <a href="visual.html#ggsave">8.12</a>).</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb352-1"><a href="visual.html#cb352-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> </span>
<span id="cb352-2"><a href="visual.html#cb352-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb352-3"><a href="visual.html#cb352-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb352-4"><a href="visual.html#cb352-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>),</span>
<span id="cb352-5"><a href="visual.html#cb352-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.9</span>)</span>
<span id="cb352-6"><a href="visual.html#cb352-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Dem <code>legend.position</code> Argument können außerdem <code>"top"</code> und <code>"bottom"</code> übergeben werden. Eine horizontale Legende wird mit <code>legend.direction = "horizontal"</code> erstellt.</p>
<p>Das Anpassen der Facetten erfolgt innerhalb von <code>theme()</code> mit den <code>strip</code> Argumenten. Dabei kann etwa die Textgröße der Überschrift verändert oder der Hintergrund ausgeblendet werden.</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb353-1"><a href="visual.html#cb353-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> </span>
<span id="cb353-2"><a href="visual.html#cb353-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb353-3"><a href="visual.html#cb353-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">15</span>),</span>
<span id="cb353-4"><a href="visual.html#cb353-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.background =</span> <span class="fu">element_blank</span>()</span>
<span id="cb353-5"><a href="visual.html#cb353-5" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
</div>
</div>
<div id="patch" class="section level2 hasAnchor" number="8.11">
<h2><span class="header-section-number">8.11</span> Anordnen mehrerer Graphen<a href="visual.html#patch" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Innerhalb dieses Buches gibt es diverse Graphen, die nebeneinander in einer Abbildung dargestellt wurden. Dafür muss das <code>patchwork</code> Package installiert und geladen sein.</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb354-1"><a href="visual.html#cb354-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span></code></pre></div>
<p>Der erste Schritt ist das Abspeichern der jeweiligen Abbildungen. Exemplarisch nutzen wir an dieser Stelle das Histogramm, das Streudiagramm, den Boxplot und den Q-Q Plot aus den vorherigen Kapiteln und speichern diese jeweils als <code>a</code>, <code>b</code>, <code>c</code> und <code>d</code>.</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb355-1"><a href="visual.html#cb355-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">x =</span> Extraversion)) <span class="sc">+</span> </span>
<span id="cb355-2"><a href="visual.html#cb355-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">binwidth =</span> <span class="fl">0.2</span>)</span>
<span id="cb355-3"><a href="visual.html#cb355-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-4"><a href="visual.html#cb355-4" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">x =</span> Extraversion, <span class="at">y =</span> Alter)) <span class="sc">+</span> </span>
<span id="cb355-5"><a href="visual.html#cb355-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="st">&quot;jitter&quot;</span>)</span>
<span id="cb355-6"><a href="visual.html#cb355-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-7"><a href="visual.html#cb355-7" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(big5_long, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Auspraegung)) <span class="sc">+</span> </span>
<span id="cb355-8"><a href="visual.html#cb355-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span>
<span id="cb355-9"><a href="visual.html#cb355-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-10"><a href="visual.html#cb355-10" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(big5_mod, <span class="fu">aes</span>(<span class="at">sample =</span> Alter)) <span class="sc">+</span> </span>
<span id="cb355-11"><a href="visual.html#cb355-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span> </span>
<span id="cb355-12"><a href="visual.html#cb355-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq_line</span>()</span></code></pre></div>
<p>Anschließen addieren wir die vier Graphen in gewünschter Reihenfolge. Die Funktion <code>plot_layout()</code> spezifiziert unter anderem die Anzahl der Spalten (<code>ncol</code>) und <code>plot_annotation()</code> ergänzt mit dem <code>tag_levels</code> Argument Beschriftungen zu jeder Abbildung (siehe Abbildung <a href="visual.html#fig:patcha">8.19</a>).</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb356-1"><a href="visual.html#cb356-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">+</span> b <span class="sc">+</span> c <span class="sc">+</span> d <span class="sc">+</span> </span>
<span id="cb356-2"><a href="visual.html#cb356-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb356-3"><a href="visual.html#cb356-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">&quot;A&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:patcha"></span>
<img src="r-empirische-wissenschaften_files/figure-html/patcha-1.png" alt="Anordnung mehrerer Graphen" width="672" />
<p class="caption">
Abbildung 8.19: Anordnung mehrerer Graphen
</p>
</div>
<p>Neben <code>"A"</code> kann der Funktion <code>plot_annotation()</code> außerdem <code>"i"</code>, <code>"I"</code>, <code>"a"</code> und <code>"1"</code> übergeben werden. Die <code>tag_levels</code> können durch <code>tag_prefix</code> und <code>tag_suffix</code> weiter an die eigenen Bedürfnisse angepasst werden. Außerdem können Abbildungen auch in unterschiedlicher Anzahl neben- und untereinander gesetzt werden. Dafür muss man lediglich die oben stehenden Abbildungen mit vertikalen Linien unterteilen und diese dann durch die Abbildung, die unten stehen soll, teilen (siehe Abbildung <a href="visual.html#fig:patchb">8.20</a>).</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb357-1"><a href="visual.html#cb357-1" aria-hidden="true" tabindex="-1"></a>(a <span class="sc">|</span> b <span class="sc">|</span> c) <span class="sc">/</span> d <span class="sc">+</span> </span>
<span id="cb357-2"><a href="visual.html#cb357-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb357-3"><a href="visual.html#cb357-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">tag_levels =</span> <span class="st">&quot;a&quot;</span>,</span>
<span id="cb357-4"><a href="visual.html#cb357-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">tag_prefix =</span> <span class="st">&quot;(&quot;</span>,</span>
<span id="cb357-5"><a href="visual.html#cb357-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">tag_suffix =</span> <span class="st">&quot;)&quot;</span></span>
<span id="cb357-6"><a href="visual.html#cb357-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:patchb"></span>
<img src="r-empirische-wissenschaften_files/figure-html/patchb-1.png" alt="Alternative Anordnung mehrerer Graphen" width="672" />
<p class="caption">
Abbildung 8.20: Alternative Anordnung mehrerer Graphen
</p>
</div>
<p>Falls alle addierten Graphen dieselbe Legende hätten, könnte diese mit <code>guide_area()</code> und dem <code>guides</code> Argument gesammelt angezeigt werden. Dabei wird mit <code>guide_area()</code> die Position der gemeinsamen Legende festgelegt.</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb358-1"><a href="visual.html#cb358-1" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> a <span class="sc">+</span> b <span class="sc">+</span> c <span class="sc">+</span> <span class="fu">guide_area</span>() <span class="sc">+</span> </span>
<span id="cb358-2"><a href="visual.html#cb358-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">guides =</span> <span class="st">&quot;collect&quot;</span>)</span></code></pre></div>
<p>Eine weitere nützliche Funktion ist <code>plot_spacer()</code> zum Freilassen eines Areals in der kombinierten Abbildung. Wenn man kombinierte Abbildungen (hier als <code>plots</code> gespeichert) im Nachhinein verändern möchte, müssen diese einzeln angesprochen werden. Da diese als Liste gespeichert sind, erreichen wir dies mit einer doppelten eckigen Klammern (siehe Kapitel <a href="datatypes.html#lists">11.4</a>). Mit <code>plots[[1]]</code> extrahiert man so Abbildung <code>a</code>.</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb359-1"><a href="visual.html#cb359-1" aria-hidden="true" tabindex="-1"></a>plots[[<span class="dv">1</span>]] <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span>
<span id="cb359-2"><a href="visual.html#cb359-2" aria-hidden="true" tabindex="-1"></a>plots[[<span class="dv">2</span>]] <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span>
<span id="cb359-3"><a href="visual.html#cb359-3" aria-hidden="true" tabindex="-1"></a>plots[[<span class="dv">3</span>]] <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p>Falls dieselbe Änderung alle kombinierten Graphen betrifft, können wir diese mithilfe des <code>&amp;</code>-Operators (anstelle von <code>+</code>) umsetzen.</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb360-1"><a href="visual.html#cb360-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">+</span> b <span class="sc">+</span> c <span class="sc">&amp;</span></span>
<span id="cb360-2"><a href="visual.html#cb360-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme_minimal</span>()</span></code></pre></div>
</div>
<div id="ggsave" class="section level2 hasAnchor" number="8.12">
<h2><span class="header-section-number">8.12</span> Speichern von Abbildungen<a href="visual.html#ggsave" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Abbildungen werden mit <code>ggsave()</code> in dem aktuellen durch das R Projekt festgelegten Ordner gespeichert. Dabei sind vor allem vier Argumente wichtig. Mit <code>filename</code> wird festgelegt, wie die Abbildung heißen soll und in welchem Dateiformat (z.B. <code>.jpg</code> oder <code>.png</code>) selbige ausgegeben wird. Mit <code>plot</code> wird die zu speichernde Abbildung übergeben.</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb361-1"><a href="visual.html#cb361-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(big5_long, <span class="fu">aes</span>(<span class="at">x =</span> Faktor, <span class="at">y =</span> Auspraegung, <span class="at">fill =</span> Geschlecht)) <span class="sc">+</span> </span>
<span id="cb361-2"><a href="visual.html#cb361-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape =</span> <span class="cn">NA</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.95</span>), <span class="at">alpha =</span> <span class="fl">0.8</span>)</span></code></pre></div>
<div class="sourceCode" id="cb362"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb362-1"><a href="visual.html#cb362-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(</span>
<span id="cb362-2"><a href="visual.html#cb362-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">filename =</span> <span class="st">&quot;plotA.png&quot;</span>,</span>
<span id="cb362-3"><a href="visual.html#cb362-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot =</span> p,</span>
<span id="cb362-4"><a href="visual.html#cb362-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">5</span>,</span>
<span id="cb362-5"><a href="visual.html#cb362-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="dv">5</span></span>
<span id="cb362-6"><a href="visual.html#cb362-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Mit <code>width</code> und <code>height</code> legt man die Weite in Zoll fest. Die festgelegte Breite und Höhe hat einen erheblich Einfluss auf die Auflösung.</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb363-1"><a href="visual.html#cb363-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(</span>
<span id="cb363-2"><a href="visual.html#cb363-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">filename =</span> <span class="st">&quot;plotB.png&quot;</span>,</span>
<span id="cb363-3"><a href="visual.html#cb363-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot =</span> p, </span>
<span id="cb363-4"><a href="visual.html#cb363-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb363-5"><a href="visual.html#cb363-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="dv">7</span></span>
<span id="cb363-6"><a href="visual.html#cb363-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>In Abbildung <a href="visual.html#fig:saving">8.21</a> (a) ist <code>plotA.png</code> mit einer Breite und Höhe von 5 Zoll abgebildet, während <code>plotB.png</code> in (b) mit 8 x 7 Zoll bedeutend größer gespeichert wurde. Während in (a) die Achsenbeschriftungen groß sind und die Legende sogar mit der y-Achse überlappt, ist dies in (b) nicht zu beobachten.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:saving"></span>
<img src="images/saving.jpg" alt="Auflösungsunterschiede je nach Größe der gespeicherten Abbildung." width="98%" />
<p class="caption">
Abbildung 8.21: Auflösungsunterschiede je nach Größe der gespeicherten Abbildung.
</p>
</div>
<div class="idea">
<p>Die Größe der Abbildung wird durch die Breite (<code>width</code>) und Höhe (<code>height</code>) festgelegt. Durch unterschiedliche Größen wird auch die Auflösung innerhalb der Abbildung beeinflusst, sodass man häufig erneut die Textgrößen der Achsenbeschriftungen anpassen und erneut speichern muss. Die gespeicherte Abbildung hat <strong>nicht</strong> dasselbe Format wie die angezeigte Ausgabe innerhalb von RStudio.</p>
</div>
</div>
<div id="exemplarische-erweiterungen" class="section level2 hasAnchor" number="8.13">
<h2><span class="header-section-number">8.13</span> Exemplarische Erweiterungen<a href="visual.html#exemplarische-erweiterungen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Wir erinnern uns, dass die beiden Gs in <code>ggplot</code> für <strong>g</strong>rammar of <strong>g</strong>raphics stehen. Daraus resultiert nicht nur eine konsistente Anwendung, wie wir es in den bisherigen Kapiteln kennengelernt haben. Zusätzlich gibt es diverse darauf aufbauende Erweiterungen. Durch die gleiche Basis können wir auch die Graphen der Erweiterungen, wie zuvor gelernt, anpassen.</p>
<p>Die meisten Erweiterungen halten sich an eine einheitliche Namensgebung. Vor dem Zweck des Packages steht also auch bei den Erweiterungspackages meistens ein <code>gg</code> (z.B. <code>ggfortify</code> oder <code>ggridges</code>). Allerdings halten sich nicht alle an eine konsistente Namensgebung (z.B. beim Erstellen von Kaplan-Meier-Kurven mit dem <code>survival</code> Package).</p>
<div id="kaplan" class="section level3 hasAnchor" number="8.13.1">
<h3><span class="header-section-number">8.13.1</span> Kaplan-Meier-Kurve<a href="visual.html#kaplan" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Für dieses Kapitel müssen die Packages <code>survival</code>, <code>survminer</code> und <code>patchwork</code> installiert und geladen werden.</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb364-1"><a href="visual.html#cb364-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(survival)</span>
<span id="cb364-2"><a href="visual.html#cb364-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(survminer)</span>
<span id="cb364-3"><a href="visual.html#cb364-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span></code></pre></div>
<p>Aus dem <code>survival</code> Package schauen wir uns den Datensatz <code>lung</code> an. Dabei interessieren uns die Spalten <code>time</code>, <code>status</code> und <code>sex</code>. Die Variable <code>time</code> gibt die Überlebenszeit in Tagen an, <code>status</code> beinhaltet die Information über den Tod (1) oder für ein zensiertes Ereignis (2). Die Variable <code>sex</code> beinhaltet das biologische Geschlecht in Form von männlich (1) und weiblich (2).</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb365-1"><a href="visual.html#cb365-1" aria-hidden="true" tabindex="-1"></a>lung</span></code></pre></div>
<pre class="bordercode"><code># A tibble: 228 × 10
   inst  time status   age   sex ph.ecog ph.karno pat.karno meal.cal wt.loss
  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;
1     3   306      2    74     1       1       90       100     1175      NA
2     3   455      2    68     1       0       90        90     1225      15
3     3  1010      1    56     1       0       90        90       NA      15
4     5   210      2    57     1       1       90        60     1150      11
# … with 224 more rows</code></pre>
<p><strong>Gesamte Überlebenszeit.</strong> Bevor wir eine Kaplan-Meier-Kurve zur Visualisierung der Überlebenszeiten erstellen können, müssen wir zuerst mithilfe von <code>survfit()</code> aus dem <code>survival</code> Package die Überlebenswahrscheinlichkeiten schätzen. Für genauere Informationen über die Verwendung dieser Funktion sei auf das Kapitel <a href="inductive.html#cox">9.5.7</a> verwiesen.</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb367-1"><a href="visual.html#cb367-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">survfit</span>(<span class="fu">Surv</span>(<span class="at">time =</span> time, <span class="at">event =</span> status) <span class="sc">~</span> <span class="dv">1</span>, <span class="at">data =</span> lung)</span></code></pre></div>
<p>Mit der Funktion <code>ggsurvplot()</code> aus dem <code>survminer</code> Package können wir anschließend die insgesamte Überlebenszeiten visualisieren. Zusätzlich können wir mit <code>conf.int</code> ein Konfidenzinterval und mit <code>risk.table</code> die Anzahl betroffener Personen hinzufügen.</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb368-1"><a href="visual.html#cb368-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsurvplot</span>(res, <span class="at">conf.int =</span> <span class="cn">TRUE</span>, <span class="at">risk.table =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><strong>Überlebenszeit nach gruppierender Variable.</strong> Zuerst werden die Überlebenswahrscheinlichkeiten nach <code>sex</code> unterteilt.</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb369-1"><a href="visual.html#cb369-1" aria-hidden="true" tabindex="-1"></a>res2 <span class="ot">&lt;-</span> <span class="fu">survfit</span>(<span class="fu">Surv</span>(<span class="at">time =</span> time, <span class="at">event =</span> status) <span class="sc">~</span> sex, <span class="at">data =</span> lung)</span></code></pre></div>
<p>Zum Erstellen der eigentlichen Kaplan-Meier-Kurve verwenden wir erneut <code>ggsurvplot()</code>. Hier passen wir direkt diverse Argumente an, die innerhalb der Funktion an <code>ggplot</code> übergeben werden.</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb370-1"><a href="visual.html#cb370-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggsurvplot</span>(</span>
<span id="cb370-2"><a href="visual.html#cb370-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">fit =</span> res2,</span>
<span id="cb370-3"><a href="visual.html#cb370-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">&quot;Monate&quot;</span>,</span>
<span id="cb370-4"><a href="visual.html#cb370-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab =</span> <span class="st">&quot;Überlebenswahrscheinlichkeit&quot;</span>,</span>
<span id="cb370-5"><a href="visual.html#cb370-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">risk.table =</span> <span class="cn">TRUE</span>, </span>
<span id="cb370-6"><a href="visual.html#cb370-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">break.x.by =</span> <span class="dv">100</span>,</span>
<span id="cb370-7"><a href="visual.html#cb370-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend =</span> <span class="fu">c</span>(<span class="fl">0.15</span>, <span class="fl">0.15</span>),</span>
<span id="cb370-8"><a href="visual.html#cb370-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend.title =</span> <span class="st">&quot;Geschlecht&quot;</span>,</span>
<span id="cb370-9"><a href="visual.html#cb370-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend.labs =</span> <span class="fu">c</span>(<span class="st">&quot;Männlich&quot;</span>, <span class="st">&quot;Weiblich&quot;</span>),</span>
<span id="cb370-10"><a href="visual.html#cb370-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">risk.table.y.text =</span> <span class="cn">FALSE</span>,</span>
<span id="cb370-11"><a href="visual.html#cb370-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">palette =</span> <span class="st">&quot;nejm&quot;</span></span>
<span id="cb370-12"><a href="visual.html#cb370-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb370-13"><a href="visual.html#cb370-13" aria-hidden="true" tabindex="-1"></a>p1</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:survplot"></span>
<img src="r-empirische-wissenschaften_files/figure-html/survplot-1.png" alt="Kaplan-Meier-Kurve mit Tabelle unterteilt nach biologischem Geschlecht." width="672" />
<p class="caption">
Abbildung 8.22: Kaplan-Meier-Kurve mit Tabelle unterteilt nach biologischem Geschlecht.
</p>
</div>
<p>Die Abbildung besteht aus zwei Teilen, der Kaplan-Meier-Kurve (<code>plot</code>) und der Tabelle (<code>table</code>). Zum Abspeichern müssen wir aus unserem Ergebnis <code>p1</code> diese beiden Anteile einzeln mit dem Dollar-Operator ansprechen und mithilfe des <code>patchwork</code> Packages zusammenfügen (siehe Kapitel <a href="visual.html#patch">8.11</a>). Mit <code>plot_layout()</code> wird festgelegt, dass die Graph und Tabelle untereinander illustriert werden (<code>ncol = 1</code>) und das Verhältnis der Abbildungen mit dem <code>heights</code> Argument. Letzteres Argument ist wichtig, da der Hauptteil der Abbildung der Kaplan-Meier-Kurve und nicht der Tabelle gewidmet werden soll.</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb371-1"><a href="visual.html#cb371-1" aria-hidden="true" tabindex="-1"></a>kaplan_meier <span class="ot">&lt;-</span> p1<span class="sc">$</span>plot <span class="sc">+</span> p1<span class="sc">$</span>table <span class="sc">+</span> </span>
<span id="cb371-2"><a href="visual.html#cb371-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">1</span>))</span></code></pre></div>
<p>Durch das Ansprechen der einzelnen Bestandteile (z.B. mit <code>kaplan_meier[[1]]</code>) können beiden Bestandteile, wie in Kapitel <a href="visual.html#adapt">8.10</a> gelernt, angepasst werden. Gespeichert wird das Ergebnis wie gewohnt mit <code>ggsave()</code> (siehe Kapitel <a href="visual.html#ggsave">8.12</a>).</p>
<div class="sourceCode" id="cb372"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb372-1"><a href="visual.html#cb372-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;Kaplan_meier.png&quot;</span>, kaplan_meier, <span class="at">height =</span> <span class="dv">7</span>, <span class="at">width =</span> <span class="dv">9</span>)</span></code></pre></div>
</div>
<div id="residuen-überprüfen" class="section level3 hasAnchor" number="8.13.2">
<h3><span class="header-section-number">8.13.2</span> Residuen überprüfen<a href="visual.html#residuen-überprüfen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Für das schnelle graphische Überprüfen der notwendingen Voraussetzungen in Bezug auf die Residuen, müssen wir erst das <code>ggfortify</code> Package installieren und laden.</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb373-1"><a href="visual.html#cb373-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggfortify)</span>
<span id="cb373-2"><a href="visual.html#cb373-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span></code></pre></div>
<p>Zunächst greifen wir an dieser Stelle etwas vor und erstellen ein lineares Regressionsmodell, welches die Variation in der mittleren Extraversionsuausprägung durch Geschlecht und Alter erklären soll (siehe Kapitel (linregression)).</p>
<div class="sourceCode" id="cb374"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb374-1"><a href="visual.html#cb374-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(Extraversion <span class="sc">~</span> Geschlecht <span class="sc">+</span> Alter, <span class="at">data =</span> big5)</span></code></pre></div>
<p>Dieses Modell kann im Anschluss der Funktion <code>autoplot()</code> übergeben werden. Dies funktioniert auf dieselbe Art und Weise für die meisten Regressionsmodelle. Als weiteres Argument kann mit <code>which</code> ausgewählt werden, welche Abbildungen ausgegeben werden (hier alle 6). Das Argument <code>label.repel</code> sorgt dafür, dass der Text, der die Ausreißer beschriftet, die Linien nicht überschneidet. Als letztes wird mit <code>smooth.colour</code> noch die Farbe der Regressionsgeraden auf schwarz gesetzt.</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb375-1"><a href="visual.html#cb375-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">autoplot</span>(</span>
<span id="cb375-2"><a href="visual.html#cb375-2" aria-hidden="true" tabindex="-1"></a>  model,   </span>
<span id="cb375-3"><a href="visual.html#cb375-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, </span>
<span id="cb375-4"><a href="visual.html#cb375-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">label.repel =</span> <span class="cn">TRUE</span>, </span>
<span id="cb375-5"><a href="visual.html#cb375-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">smooth.colour =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb375-6"><a href="visual.html#cb375-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Zum Speichern müssen, wie in Kapitel (kaplan), die einzelnen Abbildungen ausgewählt und mithilfe des <code>patchwork</code> Packages zusammengefügt werden. Da die Plots mit <code>ggplot</code> erstellt wurden, können wir das Aussehen wie gewohnt anpassen (siehe Kapitel <a href="visual.html#adapt">8.10</a>.</p>
<p>Auf die einzelnen Plots wird mit doppelten eckigen Klammern zugegriffen, da diese auch hier als Listen gespeichert wurden (siehe Kapitel <a href="datatypes.html#lists">11.4</a>. Anschließend fügen wir die Abbildungen zusammen und verändern das Thema sowie die Schriftgröße (siehe Kapitel <a href="visual.html#patch">8.11</a>).</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb376-1"><a href="visual.html#cb376-1" aria-hidden="true" tabindex="-1"></a>res[[<span class="dv">1</span>]] <span class="sc">+</span> res[[<span class="dv">2</span>]] <span class="sc">+</span> res[[<span class="dv">3</span>]] <span class="sc">+</span> res[[<span class="dv">4</span>]] <span class="sc">+</span> res[[<span class="dv">5</span>]] <span class="sc">+</span> res[[<span class="dv">6</span>]] <span class="sc">+</span> </span>
<span id="cb376-2"><a href="visual.html#cb376-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">&amp;</span></span>
<span id="cb376-3"><a href="visual.html#cb376-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code></pre></div>
<p><img src="r-empirische-wissenschaften_files/figure-html/unnamed-chunk-266-1.png" width="768" style="display: block; margin: auto;" /></p>
</div>
<div id="ridgeline-plot" class="section level3 hasAnchor" number="8.13.3">
<h3><span class="header-section-number">8.13.3</span> Ridgeline Plot<a href="visual.html#ridgeline-plot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Für dieses Kapitel muss das <code>ggridges</code> Package installiert und geladen sein.</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb377-1"><a href="visual.html#cb377-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span></code></pre></div>
<p>Sogenannte Ridgeline Plots erlauben unter anderem den Vergleich von mehreren Dichtefunktionen innerhalb einer Abbildung. In Kapitel <a href="visual.html#histogram">8.2</a> haben wir die Wahrscheinlichkeitsdichte und somit die Verteilung der Werte für eine Variable angezeigt.</p>
<p>Um mehrere Dichten untereinander innerhalb einer Abbildung zu vergleichen, müssen wir den Datensatz zuerst in das lange Datenformat bringen (siehe Kapitel <a href="datenvorbereitung.html#tidy">6.6</a>).</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb378-1"><a href="visual.html#cb378-1" aria-hidden="true" tabindex="-1"></a>big_five_long <span class="ot">&lt;-</span> big_five <span class="sc">|&gt;</span> </span>
<span id="cb378-2"><a href="visual.html#cb378-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb378-3"><a href="visual.html#cb378-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> Extraversion<span class="sc">:</span>Gewissenhaftigkeit,</span>
<span id="cb378-4"><a href="visual.html#cb378-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;Auspraegung&quot;</span>,</span>
<span id="cb378-5"><a href="visual.html#cb378-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">&quot;Faktor&quot;</span></span>
<span id="cb378-6"><a href="visual.html#cb378-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb378-7"><a href="visual.html#cb378-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(Faktor, Auspraegung)</span>
<span id="cb378-8"><a href="visual.html#cb378-8" aria-hidden="true" tabindex="-1"></a>big_five_long</span></code></pre></div>
<pre class="bordercode"><code># A tibble: 800 × 14
  Faktor      Auspr…¹ Alter Gesch…²    O1    O2    O3    O4    O5    O6    O7    O8    O9   O10
  &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Extraversi…     3      36 m           5     1     5     1     4     1     5     5     4     5
2 Neurotizis…     1.9    36 m           5     1     5     1     4     1     5     5     4     5
3 Vertraegli…     3.4    36 m           5     1     5     1     4     1     5     5     4     5
4 Gewissenha…     3.3    36 m           5     1     5     1     4     1     5     5     4     5
# … with 796 more rows, and abbreviated variable names ¹​Auspraegung, ²​Geschlecht</code></pre>
<p>Durch die Funktion <code>geom_density_ridges()</code> weden die Verteilungen von Extraversion, Neurotizismus, Verträglichkeit und Gewissenhaftigkeit gegeneinander aufgetragen. Zusätzlich übergeben wir das Argument <code>alpha</code>, welches die Deckkraft auf 80% reduziert.</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb380-1"><a href="visual.html#cb380-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big_five_long, <span class="fu">aes</span>(<span class="at">x =</span> Auspraegung, <span class="at">y =</span> Faktor, <span class="at">height =</span> <span class="fu">stat</span>(density))) <span class="sc">+</span> </span>
<span id="cb380-2"><a href="visual.html#cb380-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">stat=</span> <span class="st">&quot;density&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) </span></code></pre></div>
<p>Etwas ungewohnt ist an dieser Stelle, dass wir hier auf der y-Achse die zu vergleichende diskrete Variable abbilden und auf der x-Achse die mittlere Ausprägung des jeweiligen Persönlichkeitsfaktors. Abschließend passen wir noch einige Kleinigkeiten zur ansprechenderen Abbildung an.</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r bordercode"><code class="sourceCode r"><span id="cb381-1"><a href="visual.html#cb381-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(big_five_long, <span class="fu">aes</span>(<span class="at">x =</span> Auspraegung, <span class="at">y =</span> Faktor, <span class="at">height =</span> <span class="fu">stat</span>(density))) <span class="sc">+</span> </span>
<span id="cb381-2"><a href="visual.html#cb381-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">stat=</span> <span class="st">&quot;density&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb381-3"><a href="visual.html#cb381-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Mittlere Ausprägung&quot;</span>, <span class="at">y =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span> </span>
<span id="cb381-4"><a href="visual.html#cb381-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb381-5"><a href="visual.html#cb381-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb381-6"><a href="visual.html#cb381-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">14</span>, <span class="at">base_family =</span> <span class="st">&quot;sans&quot;</span>) <span class="sc">+</span> </span>
<span id="cb381-7"><a href="visual.html#cb381-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb381-8"><a href="visual.html#cb381-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb381-9"><a href="visual.html#cb381-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="fl">0.2</span>, <span class="at">size =</span> <span class="dv">13</span>)</span>
<span id="cb381-10"><a href="visual.html#cb381-10" aria-hidden="true" tabindex="-1"></a>  ) </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ridge"></span>
<img src="r-empirische-wissenschaften_files/figure-html/ridge-1.png" alt="Ridgeline plots mit angepasstem Thema." width="768" />
<p class="caption">
Abbildung 8.23: Ridgeline plots mit angepasstem Thema.
</p>
</div>

</div>
</div>
</div>
<script data-goatcounter="https://remp.goatcounter.com/count" async src="https://gc.zgo.at/count.js"></script>
            </section>

          </div>
        </div>
      </div>
<a href="descr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="inductive.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"toc_depth": 3,
"info": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
